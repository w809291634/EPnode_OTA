###############################################################################
#
# IAR C/C++ Compiler V9.10.1.2146 for 8051                07/Jul/2023  16:40:18
# Copyright 2004-2014 IAR Systems AB.
# Standalone license - IAR Embedded Workbench for 8051
#
#    Core               =  plain
#    Code model         =  near
#    Data model         =  large
#    Calling convention =  xdata reentrant
#    Constant location  =  data
#    Dptr setup         =  1,16
#                          
#    Source file        =  
#        I:\1_git_code\EPnode_OTA\CC2530
#        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-IAP\Source\iap\download.c
#    Command line       =  
#        "I:\1_git_code\EPnode_OTA\CC2530
#        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-IAP\Source\iap\download.c"
#        -D HAL_SB_BOOT_CODE -D HAL_UART=TRUE -D HAL_UART_DMA=0 -D
#        HAL_UART_ISR=1 -D HAL_UART_ISR_RX_MAX=254 -lC
#        "I:\1_git_code\EPnode_OTA\CC2530
#        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-IAP\CC2530\CC2530BL\List\"
#        -lA "I:\1_git_code\EPnode_OTA\CC2530
#        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-IAP\CC2530\CC2530BL\List\"
#        --diag_suppress Pe001,Pa010,Pa050 -o "I:\1_git_code\EPnode_OTA\CC2530
#        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-IAP\CC2530\CC2530BL\Obj\"
#        -e --debug --core=plain --dptr=16,1 --data_model=large
#        --code_model=near --calling_convention=xdata_reentrant
#        --place_constants=data --nr_virtual_regs 8 -I
#        "I:\1_git_code\EPnode_OTA\CC2530
#        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-IAP\CC2530\..\Source\drive\"
#        -I "I:\1_git_code\EPnode_OTA\CC2530
#        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-IAP\CC2530\..\Source\iap\"
#        -I "I:\1_git_code\EPnode_OTA\CC2530
#        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-IAP\CC2530\..\Source\shell\"
#        -I "I:\1_git_code\EPnode_OTA\CC2530
#        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-IAP\CC2530\..\Source\sys\"
#        -I "I:\1_git_code\EPnode_OTA\CC2530
#        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-IAP\CC2530\..\Source\"
#        -I "I:\1_git_code\EPnode_OTA\CC2530
#        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-IAP\CC2530\source\"
#        -I "I:\1_git_code\EPnode_OTA\CC2530
#        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-IAP\CC2530\..\..\common\"
#        -I "I:\1_git_code\EPnode_OTA\CC2530
#        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-IAP\CC2530\..\..\..\ZMain\TI2530DB\"
#        -I "I:\1_git_code\EPnode_OTA\CC2530
#        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-IAP\CC2530\..\..\..\..\..\Components\hal\include\"
#        -I "I:\1_git_code\EPnode_OTA\CC2530
#        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-IAP\CC2530\..\..\..\..\..\Components\hal\target\_COMMON\CC2530\"
#        -I "I:\1_git_code\EPnode_OTA\CC2530
#        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-IAP\CC2530\..\..\..\..\..\Components\hal\target\CC2530EB\"
#        -I "I:\1_git_code\EPnode_OTA\CC2530
#        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-IAP\CC2530\..\..\..\..\..\Components\osal\include\"
#        -I "I:\1_git_code\EPnode_OTA\CC2530
#        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-IAP\CC2530\..\..\..\..\..\Components\services\saddr\"
#        -Ohz
#    List file          =  
#        I:\1_git_code\EPnode_OTA\CC2530
#        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-IAP\CC2530\CC2530BL\List\download.lst
#    Object file        =  
#        I:\1_git_code\EPnode_OTA\CC2530
#        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-IAP\CC2530\CC2530BL\Obj\download.r51
#
###############################################################################

I:\1_git_code\EPnode_OTA\CC2530 IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-IAP\Source\iap\download.c
      1          #include "download.h"

   \                                 In  segment SFR_AN, at 0x90
   \   union <unnamed> volatile __sfr _A_P1
   \                     _A_P1:
   \   000000                DS 1
      2          #include "iap_config.h"
      3          #include "ymodem.h"
      4          #include "uart.h"
      5          #include "hal_flash.h"
      6          
      7          extern uint8_t file_name[FILE_NAME_LENGTH];
      8          
      9          // 通过串口 IAP 向 flash 下载一个文件

   \                                 In  segment NEAR_CODE, align 1, keep-with-next
     10          void IAP_download(void)
   \                     IAP_download:
     11          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000   74F3         MOV     A,#-0xd
   \   000002   12....       LCALL   ?FUNC_ENTER_XDATA
   \   000005                ; Saved register size: 13
   \   000005                ; Auto size: 11
   \   000005   74F5         MOV     A,#-0xb
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
     12            uint8_t Number[11] = "          ";
   \   00000A   90....       MOV     DPTR,#`?<Constant "          ">`
   \   00000D   AC..         MOV     R4,?XSP + 0
   \   00000F   AD..         MOV     R5,?XSP + 1
   \   000011   740B         MOV     A,#0xb
   \   000013   12....       LCALL   ?MOVE_LONG8_XDATA_XDATA
     13            int32_t Size = 0;
     14            uint32_t times=300;       // 发送300次
     15            LED1 = 1;
   \   000016   D291         SETB    0x90.1
     16            
     17            /* 进入下载模式 */
     18            debug_info("download partition start_address:0x%lx,size:%ld Bytes\n\r",
     19               APP1_PARTITION_START_ADDR,APP1_PARTITION_SIZE);
   \   000018                ; Setup parameters for call to function printf
   \   000018   90....       MOV     DPTR,#__Constant_37800
   \   00001B   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   00001E   90....       MOV     DPTR,#__Constant_5000
   \   000021   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   000024   7A..         MOV     R2,#`?<Constant "download partition st...">` & 0xff
   \   000026   7B..         MOV     R3,#(`?<Constant "download partition st...">` >> 8) & 0xff
   \   000028   12....       LCALL   printf
   \   00002B   7408         MOV     A,#0x8
   \   00002D   12....       LCALL   ?DEALLOC_XSTACK8
     20            debug_info("Waiting for the file to be sent ... (press 'a' key to exit IAP mode)\n\r");
   \   000030                ; Setup parameters for call to function printf
   \   000030   7A..         MOV     R2,#`?<Constant "Waiting for the file ...">` & 0xff
   \   000032   7B..         MOV     R3,#(`?<Constant "Waiting for the file ...">` >> 8) & 0xff
   \   000034   12....       LCALL   printf
     21            
     22            // 阻塞运行
     23            Size = Ymodem_Receive(APP1_PARTITION_START_ADDR,APP1_PARTITION_SIZE,times);
   \   000037                ; Setup parameters for call to function Ymodem_Receive
   \   000037   90....       MOV     DPTR,#__Constant_12c
   \   00003A   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   00003D   90....       MOV     DPTR,#__Constant_37800
   \   000040   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   000043   90....       MOV     DPTR,#__Constant_5000
   \   000046   12....       LCALL   ?XLOAD_R2345
   \   000049   12....       LCALL   Ymodem_Receive
   \   00004C   7408         MOV     A,#0x8
   \   00004E   12....       LCALL   ?DEALLOC_XSTACK8
   \   000051   8A..         MOV     ?V0,R2
   \   000053   8B..         MOV     ?V1,R3
   \   000055   8C..         MOV     ?V2,R4
   \   000057   8D..         MOV     ?V3,R5
     24            delay_ms(500);
   \   000059                ; Setup parameters for call to function delay_ms
   \   000059   7AF4         MOV     R2,#-0xc
   \   00005B   7B01         MOV     R3,#0x1
   \   00005D   12....       LCALL   delay_ms
     25            if (Size > 0)
   \   000060   90....       MOV     DPTR,#__Constant_1
   \   000063   78..         MOV     R0,#?V0
   \   000065   12....       LCALL   ?SL_GE_X
   \   000068   5054         JNC     ??IAP_download_0
     26            {
     27              debug_info("\n\n\r Programming Successed!\n\r--------------------------------\r\n Name: %s",(char*)file_name);
   \   00006A                ; Setup parameters for call to function printf
   \   00006A   75....       MOV     ?V4,#file_name & 0xff
   \   00006D   75....       MOV     ?V5,#(file_name >> 8) & 0xff
   \   000070   78..         MOV     R0,#?V4
   \   000072   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000075   7A..         MOV     R2,#`?<Constant "\\n\\n\\r Programming Succe...">` & 0xff
   \   000077   7B..         MOV     R3,#(`?<Constant "\\n\\n\\r Programming Succe...">` >> 8) & 0xff
   \   000079   12....       LCALL   printf
   \   00007C   7402         MOV     A,#0x2
   \   00007E   12....       LCALL   ?DEALLOC_XSTACK8
     28              Int2Str(Number, Size);
   \   000081                ; Setup parameters for call to function Int2Str
   \   000081   78..         MOV     R0,#?V0
   \   000083   12....       LCALL   ?PUSH_XSTACK_I_FOUR
   \   000086   7404         MOV     A,#0x4
   \   000088   12....       LCALL   ?XSTACK_DISP101_8
   \   00008B   12....       LCALL   Int2Str
   \   00008E   7404         MOV     A,#0x4
   \   000090   12....       LCALL   ?DEALLOC_XSTACK8
     29              debug_info("\n\r Size: %s Bytes\r\n",(char*)Number);
   \   000093                ; Setup parameters for call to function printf
   \   000093   A8..         MOV     R0,?XSP + 0
   \   000095   A9..         MOV     R1,?XSP + 1
   \   000097   88..         MOV     ?V0,R0
   \   000099   89..         MOV     ?V1,R1
   \   00009B   78..         MOV     R0,#?V0
   \   00009D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000A0   7A..         MOV     R2,#`?<Constant "\\n\\r Size: %s Bytes\\r\\n">` & 0xff
   \   0000A2   7B..         MOV     R3,#(`?<Constant "\\n\\r Size: %s Bytes\\r\\n">` >> 8) & 0xff
   \   0000A4   12....       LCALL   printf
   \   0000A7   7402         MOV     A,#0x2
   \   0000A9   12....       LCALL   ?DEALLOC_XSTACK8
     30              debug_info("-------------------\r\n");
   \   0000AC                ; Setup parameters for call to function printf
   \   0000AC   7A..         MOV     R2,#`?<Constant "-------------------\\r\\n">` & 0xff
   \   0000AE   7B..         MOV     R3,#(`?<Constant "-------------------\\r\\n">` >> 8) & 0xff
   \   0000B0   12....       LCALL   printf
     31              sys_parameter.app1_flag=APP_OK;
   \   0000B3   90....       MOV     DPTR,#sys_parameter + 1
   \   0000B6   744D         MOV     A,#0x4d
   \   0000B8   F0           MOVX    @DPTR,A
     32              write_sys_parameter(); 
   \   0000B9                ; Setup parameters for call to function write_sys_parameter
   \   0000B9   12....       LCALL   write_sys_parameter
   \   0000BC   8057         SJMP    ??IAP_download_1
     33            }
     34            else if (Size == 0) debug_err("\n\r"ERR"Termination by sender!\n\r");
   \                     ??IAP_download_0:
   \   0000BE   E5..         MOV     A,?V0
   \   0000C0   45..         ORL     A,?V1
   \   0000C2   45..         ORL     A,?V2
   \   0000C4   45..         ORL     A,?V3
   \   0000C6   7006         JNZ     ??IAP_download_2
   \   0000C8                ; Setup parameters for call to function printf
   \   0000C8   7A..         MOV     R2,#`?<Constant "\\n\\rERROR:Termination b...">` & 0xff
   \   0000CA   7B..         MOV     R3,#(`?<Constant "\\n\\rERROR:Termination b...">` >> 8) & 0xff
   \   0000CC   8044         SJMP    ??IAP_download_3
     35            else if (Size == -1) debug_err("\n\r"ERR"Programming address error or File too large!\n\r");
   \                     ??IAP_download_2:
   \   0000CE   90....       MOV     DPTR,#__Constant_ffffffff
   \   0000D1   78..         MOV     R0,#?V0
   \   0000D3   12....       LCALL   ?L_EQ_X
   \   0000D6   7006         JNZ     ??IAP_download_4
   \   0000D8                ; Setup parameters for call to function printf
   \   0000D8   7A..         MOV     R2,#`?<Constant "\\n\\rERROR:Programming a...">` & 0xff
   \   0000DA   7B..         MOV     R3,#(`?<Constant "\\n\\rERROR:Programming a...">` >> 8) & 0xff
   \   0000DC   8034         SJMP    ??IAP_download_3
     36            else if (Size == -10) debug_err("\n\r"ERR"Error count exceeded.\n\r");
   \                     ??IAP_download_4:
   \   0000DE   90....       MOV     DPTR,#__Constant_fffffff6
   \   0000E1   78..         MOV     R0,#?V0
   \   0000E3   12....       LCALL   ?L_EQ_X
   \   0000E6   7006         JNZ     ??IAP_download_5
   \   0000E8                ; Setup parameters for call to function printf
   \   0000E8   7A..         MOV     R2,#`?<Constant "\\n\\rERROR:Error count e...">` & 0xff
   \   0000EA   7B..         MOV     R3,#(`?<Constant "\\n\\rERROR:Error count e...">` >> 8) & 0xff
   \   0000EC   8024         SJMP    ??IAP_download_3
     37            else if (Size == -11) debug_err("\n\r"ERR"Waiting timeout\n\r");
   \                     ??IAP_download_5:
   \   0000EE   90....       MOV     DPTR,#__Constant_fffffff5
   \   0000F1   78..         MOV     R0,#?V0
   \   0000F3   12....       LCALL   ?L_EQ_X
   \   0000F6   7006         JNZ     ??IAP_download_6
   \   0000F8                ; Setup parameters for call to function printf
   \   0000F8   7A..         MOV     R2,#`?<Constant "\\n\\rERROR:Waiting timeo...">` & 0xff
   \   0000FA   7B..         MOV     R3,#(`?<Constant "\\n\\rERROR:Waiting timeo...">` >> 8) & 0xff
   \   0000FC   8014         SJMP    ??IAP_download_3
     38            else if (Size == -30) debug_war("\n\r"WARNING"Aborted by user.\n\r");
   \                     ??IAP_download_6:
   \   0000FE   90....       MOV     DPTR,#__Constant_ffffffe2
   \   000101   78..         MOV     R0,#?V0
   \   000103   12....       LCALL   ?L_EQ_X
   \   000106   7006         JNZ     ??IAP_download_7
   \   000108                ; Setup parameters for call to function printf
   \   000108   7A..         MOV     R2,#`?<Constant "\\n\\rWARNING:Aborted by ...">` & 0xff
   \   00010A   7B..         MOV     R3,#(`?<Constant "\\n\\rWARNING:Aborted by ...">` >> 8) & 0xff
   \   00010C   8004         SJMP    ??IAP_download_3
     39            else debug_err("\n\r"ERR"Failed to receive the file!\n\r");
   \                     ??IAP_download_7:
   \   00010E                ; Setup parameters for call to function printf
   \   00010E   7A..         MOV     R2,#`?<Constant "\\n\\rERROR:Failed to rec...">` & 0xff
   \   000110   7B..         MOV     R3,#(`?<Constant "\\n\\rERROR:Failed to rec...">` >> 8) & 0xff
   \                     ??IAP_download_3:
   \   000112   12....       LCALL   printf
     40          
     41            /* 进入控制台模式 */
     42            usart0_mode=0;
   \                     ??IAP_download_1:
   \   000115   90....       MOV     DPTR,#usart0_mode
   \   000118   E4           CLR     A
   \   000119   F0           MOVX    @DPTR,A
     43          }
   \   00011A   740B         MOV     A,#0xb
   \   00011C   12....       LCALL   ?DEALLOC_XSTACK8
   \   00011F   7F06         MOV     R7,#0x6
   \   000121   02....       LJMP    ?FUNC_LEAVE_XDATA
   \   000124                REQUIRE _A_P1

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for <Constant "          ">>`:
   \   000000   20202020     DB "          "
   \            20202020
   \            202000  

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for <Constant "download partitio`:
   \   000000   646F776E     DB 64H, 6FH, 77H, 6EH, 6CH, 6FH, 61H, 64H
   \            6C6F6164
   \   000008   20706172     DB 20H, 70H, 61H, 72H, 74H, 69H, 74H, 69H
   \            74697469
   \   000010   6F6E2073     DB 6FH, 6EH, 20H, 73H, 74H, 61H, 72H, 74H
   \            74617274
   \   000018   5F616464     DB 5FH, 61H, 64H, 64H, 72H, 65H, 73H, 73H
   \            72657373
   \   000020   3A307825     DB 3AH, 30H, 78H, 25H, 6CH, 78H, 2CH, 73H
   \            6C782C73
   \   000028   697A653A     DB 69H, 7AH, 65H, 3AH, 25H, 6CH, 64H, 20H
   \            256C6420
   \   000030   42797465     DB 42H, 79H, 74H, 65H, 73H, 0AH, 0DH, 0
   \            730A0D00

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for <Constant "Waiting for the f`:
   \   000000   57616974     DB 57H, 61H, 69H, 74H, 69H, 6EH, 67H, 20H
   \            696E6720
   \   000008   666F7220     DB 66H, 6FH, 72H, 20H, 74H, 68H, 65H, 20H
   \            74686520
   \   000010   66696C65     DB 66H, 69H, 6CH, 65H, 20H, 74H, 6FH, 20H
   \            20746F20
   \   000018   62652073     DB 62H, 65H, 20H, 73H, 65H, 6EH, 74H, 20H
   \            656E7420
   \   000020   2E2E2E20     DB 2EH, 2EH, 2EH, 20H, 28H, 70H, 72H, 65H
   \            28707265
   \   000028   73732027     DB 73H, 73H, 20H, 27H, 61H, 27H, 20H, 6BH
   \            6127206B
   \   000030   65792074     DB 65H, 79H, 20H, 74H, 6FH, 20H, 65H, 78H
   \            6F206578
   \   000038   69742049     DB 69H, 74H, 20H, 49H, 41H, 50H, 20H, 6DH
   \            4150206D
   \   000040   6F646529     DB 6FH, 64H, 65H, 29H, 0AH, 0DH, 0
   \            0A0D00  

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for <Constant "\\n\\n\\r Programmin`:
   \   000000   0A0A0D20     DB 0AH, 0AH, 0DH, 20H, 50H, 72H, 6FH, 67H
   \            50726F67
   \   000008   72616D6D     DB 72H, 61H, 6DH, 6DH, 69H, 6EH, 67H, 20H
   \            696E6720
   \   000010   53756363     DB 53H, 75H, 63H, 63H, 65H, 73H, 73H, 65H
   \            65737365
   \   000018   64210A0D     DB 64H, 21H, 0AH, 0DH, 2DH, 2DH, 2DH, 2DH
   \            2D2D2D2D
   \   000020   2D2D2D2D     DB 2DH, 2DH, 2DH, 2DH, 2DH, 2DH, 2DH, 2DH
   \            2D2D2D2D
   \   000028   2D2D2D2D     DB 2DH, 2DH, 2DH, 2DH, 2DH, 2DH, 2DH, 2DH
   \            2D2D2D2D
   \   000030   2D2D2D2D     DB 2DH, 2DH, 2DH, 2DH, 2DH, 2DH, 2DH, 2DH
   \            2D2D2D2D
   \   000038   2D2D2D2D     DB 2DH, 2DH, 2DH, 2DH, 0DH, 0AH, 20H, 4EH
   \            0D0A204E
   \   000040   616D653A     DB 61H, 6DH, 65H, 3AH, 20H, 25H, 73H, 0
   \            20257300

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for <Constant "\\n\\r Size: %s Byt`:
   \   000000   0A0D2053     DB "\012\015 Size: %s Bytes\015\012"
   \            697A653A
   \            20257320
   \            42797465
   \            730D0A00

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for <Constant "-----------------`:
   \   000000   2D2D2D2D     DB "-------------------\015\012"
   \            2D2D2D2D
   \            2D2D2D2D
   \            2D2D2D2D
   \            2D2D2D0D
   \            0A00    

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for <Constant "\\n\\rERROR:Termina`:
   \   000000   0A0D4552     DB "\012\015ERROR:Termination by sender!\012\015"
   \            524F523A
   \            5465726D
   \            696E6174
   \            696F6E20
   \            62792073
   \            656E6465
   \            72210A0D
   \            00      

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for <Constant "\\n\\rERROR:Program`:
   \   000000   0A0D4552     DB 0AH, 0DH, 45H, 52H, 52H, 4FH, 52H, 3AH
   \            524F523A
   \   000008   50726F67     DB 50H, 72H, 6FH, 67H, 72H, 61H, 6DH, 6DH
   \            72616D6D
   \   000010   696E6720     DB 69H, 6EH, 67H, 20H, 61H, 64H, 64H, 72H
   \            61646472
   \   000018   65737320     DB 65H, 73H, 73H, 20H, 65H, 72H, 72H, 6FH
   \            6572726F
   \   000020   72206F72     DB 72H, 20H, 6FH, 72H, 20H, 46H, 69H, 6CH
   \            2046696C
   \   000028   6520746F     DB 65H, 20H, 74H, 6FH, 6FH, 20H, 6CH, 61H
   \            6F206C61
   \   000030   72676521     DB 72H, 67H, 65H, 21H, 0AH, 0DH, 0
   \            0A0D00  

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for <Constant "\\n\\rERROR:Error c`:
   \   000000   0A0D4552     DB "\012\015ERROR:Error count exceeded.\012\015"
   \            524F523A
   \            4572726F
   \            7220636F
   \            756E7420
   \            65786365
   \            65646564
   \            2E0A0D00

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for <Constant "\\n\\rERROR:Waiting`:
   \   000000   0A0D4552     DB "\012\015ERROR:Waiting timeout\012\015"
   \            524F523A
   \            57616974
   \            696E6720
   \            74696D65
   \            6F75740A
   \            0D00    

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for <Constant "\\n\\rWARNING:Abort`:
   \   000000   0A0D5741     DB "\012\015WARNING:Aborted by user.\012\015"
   \            524E494E
   \            473A4162
   \            6F727465
   \            64206279
   \            20757365
   \            722E0A0D
   \            00      

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for <Constant "\\n\\rERROR:Failed `:
   \   000000   0A0D4552     DB "\012\015ERROR:Failed to receive the file!\012\015"
   \            524F523A
   \            4661696C
   \            65642074
   \            6F207265
   \            63656976
   \            65207468
   \            65206669
   \            6C65210A
   \            0D00    

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for __Constant_37800>`:
   \   000000   00780300     DD 227328

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for __Constant_5000>`:
   \   000000   00500000     DD 20480

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for __Constant_12c>`:
   \   000000   2C010000     DD 300

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for __Constant_1>`:
   \   000000   01000000     DD 1

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for __Constant_ffffffff>`:
   \   000000   FFFFFFFF     DD -1

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for __Constant_fffffff6>`:
   \   000000   F6FFFFFF     DD -10

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for __Constant_fffffff5>`:
   \   000000   F5FFFFFF     DD -11

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for __Constant_ffffffe2>`:
   \   000000   E2FFFFFF     DD -30

   \                                 In  segment XDATA_I, align 1, keep-with-next
   \                     `?<Constant "          ">`:
   \   000000                DS 11
   \   00000B                REQUIRE `?<Initializer for <Constant "          ">>`
   \   00000B                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
   \                     `?<Constant "download partition st...">`:
   \   000000                DS 56
   \   000038                REQUIRE `?<Initializer for <Constant "download partitio`
   \   000038                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
   \                     `?<Constant "Waiting for the file ...">`:
   \   000000                DS 71
   \   000047                REQUIRE `?<Initializer for <Constant "Waiting for the f`
   \   000047                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
   \                     `?<Constant "\\n\\n\\r Programming Succe...">`:
   \   000000                DS 72
   \   000048                REQUIRE `?<Initializer for <Constant "\\n\\n\\r Programmin`
   \   000048                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
   \                     `?<Constant "\\n\\r Size: %s Bytes\\r\\n">`:
   \   000000                DS 20
   \   000014                REQUIRE `?<Initializer for <Constant "\\n\\r Size: %s Byt`
   \   000014                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
   \                     `?<Constant "-------------------\\r\\n">`:
   \   000000                DS 22
   \   000016                REQUIRE `?<Initializer for <Constant "-----------------`
   \   000016                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
   \                     `?<Constant "\\n\\rERROR:Termination b...">`:
   \   000000                DS 33
   \   000021                REQUIRE `?<Initializer for <Constant "\\n\\rERROR:Termina`
   \   000021                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
   \                     `?<Constant "\\n\\rERROR:Programming a...">`:
   \   000000                DS 55
   \   000037                REQUIRE `?<Initializer for <Constant "\\n\\rERROR:Program`
   \   000037                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
   \                     `?<Constant "\\n\\rERROR:Error count e...">`:
   \   000000                DS 32
   \   000020                REQUIRE `?<Initializer for <Constant "\\n\\rERROR:Error c`
   \   000020                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
   \                     `?<Constant "\\n\\rERROR:Waiting timeo...">`:
   \   000000                DS 26
   \   00001A                REQUIRE `?<Initializer for <Constant "\\n\\rERROR:Waiting`
   \   00001A                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
   \                     `?<Constant "\\n\\rWARNING:Aborted by ...">`:
   \   000000                DS 29
   \   00001D                REQUIRE `?<Initializer for <Constant "\\n\\rWARNING:Abort`
   \   00001D                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
   \                     `?<Constant "\\n\\rERROR:Failed to rec...">`:
   \   000000                DS 38
   \   000026                REQUIRE `?<Initializer for <Constant "\\n\\rERROR:Failed `
   \   000026                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
   \                     __Constant_37800:
   \   000000                DS 4
   \   000004                REQUIRE `?<Initializer for __Constant_37800>`
   \   000004                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
   \                     __Constant_5000:
   \   000000                DS 4
   \   000004                REQUIRE `?<Initializer for __Constant_5000>`
   \   000004                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
   \                     __Constant_12c:
   \   000000                DS 4
   \   000004                REQUIRE `?<Initializer for __Constant_12c>`
   \   000004                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
   \                     __Constant_1:
   \   000000                DS 4
   \   000004                REQUIRE `?<Initializer for __Constant_1>`
   \   000004                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
   \                     __Constant_ffffffff:
   \   000000                DS 4
   \   000004                REQUIRE `?<Initializer for __Constant_ffffffff>`
   \   000004                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
   \                     __Constant_fffffff6:
   \   000000                DS 4
   \   000004                REQUIRE `?<Initializer for __Constant_fffffff6>`
   \   000004                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
   \                     __Constant_fffffff5:
   \   000000                DS 4
   \   000004                REQUIRE `?<Initializer for __Constant_fffffff5>`
   \   000004                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
   \                     __Constant_ffffffe2:
   \   000000                DS 4
   \   000004                REQUIRE `?<Initializer for __Constant_ffffffe2>`
   \   000004                REQUIRE __INIT_XDATA_I
     44          

   Maximum stack usage in bytes:

   XSTACK Function
   ------ --------
     32   IAP_download
       28   -> Int2Str
       32   -> Ymodem_Receive
       24   -> delay_ms
       24   -> printf
       26   -> printf
       32   -> printf
       24   -> write_sys_parameter


   Segment part sizes:

   Bytes  Function/Label
   -----  --------------
      11  ?<Constant "          ">
      22  ?<Constant "-------------------\r\n">
      71  ?<Constant "Waiting for the file ...">
      72  ?<Constant "\n\n\r Programming Succe...">
      20  ?<Constant "\n\r Size: %s Bytes\r\n">
      32  ?<Constant "\n\rERROR:Error count e...">
      38  ?<Constant "\n\rERROR:Failed to rec...">
      55  ?<Constant "\n\rERROR:Programming a...">
      33  ?<Constant "\n\rERROR:Termination b...">
      26  ?<Constant "\n\rERROR:Waiting timeo...">
      29  ?<Constant "\n\rWARNING:Aborted by ...">
      56  ?<Constant "download partition st...">
      11  ?<Initializer for <Constant "          ">>
      22  ?<Initializer for <Constant "-----------------
      71  ?<Initializer for <Constant "Waiting for the f
      72  ?<Initializer for <Constant "\n\n\r Programmin
      20  ?<Initializer for <Constant "\n\r Size: %s Byt
      32  ?<Initializer for <Constant "\n\rERROR:Error c
      38  ?<Initializer for <Constant "\n\rERROR:Failed
      55  ?<Initializer for <Constant "\n\rERROR:Program
      33  ?<Initializer for <Constant "\n\rERROR:Termina
      26  ?<Initializer for <Constant "\n\rERROR:Waiting
      29  ?<Initializer for <Constant "\n\rWARNING:Abort
      56  ?<Initializer for <Constant "download partitio
       4  ?<Initializer for __Constant_12c>
       4  ?<Initializer for __Constant_1>
       4  ?<Initializer for __Constant_37800>
       4  ?<Initializer for __Constant_5000>
       4  ?<Initializer for __Constant_ffffffe2>
       4  ?<Initializer for __Constant_fffffff5>
       4  ?<Initializer for __Constant_fffffff6>
       4  ?<Initializer for __Constant_ffffffff>
     292  IAP_download
       1  _A_P1
       4  __Constant_1
       4  __Constant_12c
       4  __Constant_37800
       4  __Constant_5000
       4  __Constant_ffffffe2
       4  __Constant_fffffff5
       4  __Constant_fffffff6
       4  __Constant_ffffffff

 
 292 bytes in segment NEAR_CODE
   1 byte  in segment SFR_AN
 497 bytes in segment XDATA_I
 497 bytes in segment XDATA_ID
 
 757 bytes of CODE  memory (+ 32 bytes shared)
   0 bytes of DATA  memory (+  1 byte  shared)
 465 bytes of XDATA memory (+ 32 bytes shared)

Errors: none
Warnings: none
