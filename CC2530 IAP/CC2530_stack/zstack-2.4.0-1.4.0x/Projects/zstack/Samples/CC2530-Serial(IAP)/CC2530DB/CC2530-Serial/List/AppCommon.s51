///////////////////////////////////////////////////////////////////////////////
//
// IAR C/C++ Compiler V9.10.1.2146 for 8051               07/Jul/2023  16:40:36
// Copyright 2004-2014 IAR Systems AB.
// Standalone license - IAR Embedded Workbench for 8051
//
//    Core               =  plain
//    Code model         =  banked
//    Data model         =  large
//    Calling convention =  xdata reentrant
//    Constant location  =  data_rom
//    Dptr setup         =  1,16
//                          
//    Source file        =  
//        I:\1_git_code\EPnode_OTA\CC2530
//        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\common\AppCommon.c
//    Command line       =  
//        -f "I:\1_git_code\EPnode_OTA\CC2530
//        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-Serial(IAP)\CC2530DB\..\..\..\Tools\CC2530DB\f8wRouter.cfg"
//        (-DCPU32MHZ -DROOT=__near_func -DMAC_CFG_APP_PENDING_QUEUE=TRUE
//        -DMAC_CFG_TX_DATA_MAX=5 -DMAC_CFG_TX_MAX=8 -DMAC_CFG_RX_MAX=5
//        -DRTR_NWK) -f "I:\1_git_code\EPnode_OTA\CC2530
//        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-Serial(IAP)\CC2530DB\..\..\..\Tools\CC2530DB\f8wConfig.cfg"
//        (-DZIGBEEPRO -DSECURE=0 -DZG_SECURE_DYNAMIC=0 -DREFLECTOR
//        -DDEFAULT_CHANLIST=0x00000800 -DZDAPP_CONFIG_PAN_ID=8448
//        -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MASK=0x007F
//        -DBEACON_REQUEST_DELAY=100 -DBEACON_REQ_DELAY_MASK=0x00FF
//        -DLINK_STATUS_JITTER_MASK=0x007F -DROUTE_EXPIRY_TIME=30
//        -DAPSC_ACK_WAIT_DURATION_POLLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7
//        -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3
//        -DNWK_MAX_DATA_RETRIES=2 -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9
//        -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40 -DNWK_MAX_BINDING_ENTRIES=4
//        -DMAX_BINDING_CLUSTER_IDS=4 "-DDEFAULT_KEY={0x01, 0x03, 0x05, 0x07,
//        0x09, 0x0B, 0x0D, 0x0F, 0x00, 0x02, 0x04, 0x06, 0x08, 0x0A, 0x0C,
//        0x0D}" -DMAC_MAX_FRAME_SIZE=116 -DZDNWKMGR_MIN_TRANSMISSIONS=20
//        "-DCONST=const __code" -DGENERIC=__generic -DRFD_RCVC_ALWAYS_ON=TRUE
//        -DPOLL_RATE=1000 -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100)
//        -DREJOIN_POLL_RATE=440 "I:\1_git_code\EPnode_OTA\CC2530
//        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\common\AppCommon.c"
//        -D HOLD_AUTO_START -D BUILD_ALL_DEVICES -D REFLECTOR -D NV_INIT -D
//        XLAB -D CC2530_Serial -D MAKE_CRC_SHDW -D CC2530_USE_IAP -lC
//        "I:\1_git_code\EPnode_OTA\CC2530
//        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-Serial(IAP)\CC2530DB\CC2530-Serial\List\"
//        -lA "I:\1_git_code\EPnode_OTA\CC2530
//        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-Serial(IAP)\CC2530DB\CC2530-Serial\List\"
//        --diag_suppress Pe001,Pa010 -o "I:\1_git_code\EPnode_OTA\CC2530
//        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-Serial(IAP)\CC2530DB\CC2530-Serial\Obj\"
//        -e --no_cse --no_unroll --no_inline --no_code_motion --no_tbaa
//        --debug --core=plain --dptr=16,1 --data_model=large
//        --code_model=banked --calling_convention=xdata_reentrant
//        --place_constants=data_rom --nr_virtual_regs 8 -I
//        "I:\1_git_code\EPnode_OTA\CC2530
//        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-Serial(IAP)\CC2530DB\"
//        -I "I:\1_git_code\EPnode_OTA\CC2530
//        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-Serial(IAP)\CC2530DB\..\Source\"
//        -I "I:\1_git_code\EPnode_OTA\CC2530
//        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-Serial(IAP)\CC2530DB\..\..\common\"
//        -I "I:\1_git_code\EPnode_OTA\CC2530
//        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-Serial(IAP)\CC2530DB\..\..\..\ZMain\TI2530DB\"
//        -I "I:\1_git_code\EPnode_OTA\CC2530
//        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-Serial(IAP)\CC2530DB\..\..\..\..\..\Components\hal\include\"
//        -I "I:\1_git_code\EPnode_OTA\CC2530
//        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-Serial(IAP)\CC2530DB\..\..\..\..\..\Components\hal\target\CC2530EB\"
//        -I "I:\1_git_code\EPnode_OTA\CC2530
//        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-Serial(IAP)\CC2530DB\..\..\..\..\..\Components\mac\include\"
//        -I "I:\1_git_code\EPnode_OTA\CC2530
//        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-Serial(IAP)\CC2530DB\..\..\..\..\..\Components\mac\high_level\"
//        -I "I:\1_git_code\EPnode_OTA\CC2530
//        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-Serial(IAP)\CC2530DB\..\..\..\..\..\Components\mac\low_level\srf04\"
//        -I "I:\1_git_code\EPnode_OTA\CC2530
//        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-Serial(IAP)\CC2530DB\..\..\..\..\..\Components\mac\low_level\srf04\single_chip\"
//        -I "I:\1_git_code\EPnode_OTA\CC2530
//        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-Serial(IAP)\CC2530DB\..\..\..\..\..\Components\mt\"
//        -I "I:\1_git_code\EPnode_OTA\CC2530
//        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-Serial(IAP)\CC2530DB\..\..\..\..\..\Components\osal\include\"
//        -I "I:\1_git_code\EPnode_OTA\CC2530
//        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-Serial(IAP)\CC2530DB\..\..\..\..\..\Components\osal\mcu\ccsoc\"
//        -I "I:\1_git_code\EPnode_OTA\CC2530
//        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-Serial(IAP)\CC2530DB\..\..\..\..\..\Components\services\saddr\"
//        -I "I:\1_git_code\EPnode_OTA\CC2530
//        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-Serial(IAP)\CC2530DB\..\..\..\..\..\Components\services\sdata\"
//        -I "I:\1_git_code\EPnode_OTA\CC2530
//        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-Serial(IAP)\CC2530DB\..\..\..\..\..\Components\stack\af\"
//        -I "I:\1_git_code\EPnode_OTA\CC2530
//        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-Serial(IAP)\CC2530DB\..\..\..\..\..\Components\stack\nwk\"
//        -I "I:\1_git_code\EPnode_OTA\CC2530
//        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-Serial(IAP)\CC2530DB\..\..\..\..\..\Components\stack\sapi\"
//        -I "I:\1_git_code\EPnode_OTA\CC2530
//        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-Serial(IAP)\CC2530DB\..\..\..\..\..\Components\stack\sec\"
//        -I "I:\1_git_code\EPnode_OTA\CC2530
//        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-Serial(IAP)\CC2530DB\..\..\..\..\..\Components\stack\sys\"
//        -I "I:\1_git_code\EPnode_OTA\CC2530
//        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-Serial(IAP)\CC2530DB\..\..\..\..\..\Components\stack\zdo\"
//        -I "I:\1_git_code\EPnode_OTA\CC2530
//        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-Serial(IAP)\CC2530DB\..\..\..\..\..\Components\zmac\"
//        -I "I:\1_git_code\EPnode_OTA\CC2530
//        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-Serial(IAP)\CC2530DB\..\..\..\..\..\Components\zmac\f8w\"
//        -On
//    List file          =  
//        I:\1_git_code\EPnode_OTA\CC2530
//        IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\CC2530-Serial(IAP)\CC2530DB\CC2530-Serial\List\AppCommon.s51
//
///////////////////////////////////////////////////////////////////////////////

        NAME AppCommon

        RTMODEL "__SystemLibrary", "CLib"
        RTMODEL "__calling_convention", "xdata_reentrant"
        RTMODEL "__code_model", "banked"
        RTMODEL "__core", "plain"
        RTMODEL "__data_model", "large"
        RTMODEL "__dptr_size", "16"
        RTMODEL "__extended_stack", "disabled"
        RTMODEL "__iar_require _formatted_write", "flags,widths"
        RTMODEL "__location_for_constants", "data"
        RTMODEL "__number_of_dptrs", "1"
        RTMODEL "__rt_version", "1"

        RSEG DOVERLAY:DATA:NOROOT(0)
        RSEG IOVERLAY:IDATA:NOROOT(0)
        RSEG ISTACK:IDATA:NOROOT(0)
        RSEG PSTACK:XDATA:NOROOT(0)
        RSEG XSTACK:XDATA:NOROOT(0)

        EXTERN ?V0
        EXTERN ?V1
        EXTERN ?V2
        EXTERN ?V3
        EXTERN ?V4
        EXTERN ?V5
        EXTERN ?V6
        EXTERN ?V7
        EXTERN ?ALLOC_XSTACK8
        EXTERN ?BANKED_ENTER_XDATA
        EXTERN ?BANKED_LEAVE_XDATA
        EXTERN ?BDISPATCH
        EXTERN ?BRET
        EXTERN ?DEALLOC_XSTACK8
        EXTERN ?L_EQ_X
        EXTERN ?L_MOV_X
        EXTERN ?PUSH_XSTACK_I_TWO
        EXTERN ?UL_GE_X
        EXTERN ?US_DIV_MOD
        EXTERN ?XSP
        EXTERN ?XSTACK_DISP0_8
        EXTERN ?XSTACK_DISP100_8
        EXTERN ?XSTACK_DISP102_8
        EXTERN __INIT_XDATA_I
        EXTERN __INIT_XDATA_Z

        PUBLIC ??GetChannel?relay
        FUNCTION ??GetChannel?relay,0203H
        PUBLIC ??GetCurrentLogicalType?relay
        FUNCTION ??GetCurrentLogicalType?relay,0203H
        PUBLIC ??GetLinkStatus?relay
        FUNCTION ??GetLinkStatus?relay,0203H
        PUBLIC ??GetLogicalType?relay
        FUNCTION ??GetLogicalType?relay,0203H
        PUBLIC ??GetPanId?relay
        FUNCTION ??GetPanId?relay,0203H
        PUBLIC ??SetChannel?relay
        FUNCTION ??SetChannel?relay,0203H
        PUBLIC ??SetLogicalType?relay
        FUNCTION ??SetLogicalType?relay,0203H
        PUBLIC ??SetPanId?relay
        FUNCTION ??SetPanId?relay,0203H
        PUBLIC ??_get_at_event?relay
        FUNCTION ??_get_at_event?relay,0203H
        PUBLIC ??myReset?relay
        FUNCTION ??myReset?relay,0203H
        FUNCTION ??my_report_proc?relay,0203H
        FUNCTION ??read_nb?relay,0203H
        PUBLIC ??starReportTPN?relay
        FUNCTION ??starReportTPN?relay,0203H
        PUBLIC ??zb_AllowBindConfirm?relay
        FUNCTION ??zb_AllowBindConfirm?relay,0203H
        PUBLIC ??zb_BindConfirm?relay
        FUNCTION ??zb_BindConfirm?relay,0203H
        PUBLIC ??zb_FindDeviceConfirm?relay
        FUNCTION ??zb_FindDeviceConfirm?relay,0203H
        PUBLIC ??zb_HanderMsg?relay
        FUNCTION ??zb_HanderMsg?relay,0203H
        PUBLIC ??zb_HandleKeys?relay
        FUNCTION ??zb_HandleKeys?relay,0203H
        PUBLIC ??zb_HandleOsalEvent?relay
        FUNCTION ??zb_HandleOsalEvent?relay,0203H
        PUBLIC ??zb_ReceiveDataIndication?relay
        FUNCTION ??zb_ReceiveDataIndication?relay,0203H
        PUBLIC ??zb_SendDataConfirm?relay
        FUNCTION ??zb_SendDataConfirm?relay,0203H
        PUBLIC ??zb_StartConfirm?relay
        FUNCTION ??zb_StartConfirm?relay,0203H
        PUBLIC GetChannel
        FUNCTION GetChannel,0a1203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME XSTACK, 20, STACK
        PUBLIC GetCurrentLogicalType
        FUNCTION GetCurrentLogicalType,0203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 2, STACK
        PUBLIC GetLinkStatus
        FUNCTION GetLinkStatus,0203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 2, STACK
        PUBLIC GetLogicalType
        FUNCTION GetLogicalType,021203H
        ARGFRAME XSTACK, 11, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME XSTACK, 1, STACK
        PUBLIC GetPanId
        FUNCTION GetPanId,0a1203H
        ARGFRAME XSTACK, 15, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 16, STACK
        PUBLIC SetChannel
        FUNCTION SetChannel,0a1203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME XSTACK, 25, STACK
        PUBLIC SetLogicalType
        FUNCTION SetLogicalType,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 11, STACK
        PUBLIC SetPanId
        FUNCTION SetPanId,0a1203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME XSTACK, 19, STACK
        PUBWEAK WDCTL
        PUBWEAK _A_IEN0
        PUBWEAK __Constant_10
        PUBLIC _get_at_event
        FUNCTION _get_at_event,0203H
        ARGFRAME XSTACK, 0, STACK
        PUBLIC myReset
        FUNCTION myReset,0203H
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCTION my_report_proc,0a1203H
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 22, STACK
        FUNCTION read_nb,0a1203H
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 22, STACK
        PUBLIC starReportTPN
        FUNCTION starReportTPN,0a1203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        PUBLIC zb_AllowBindConfirm
        FUNCTION zb_AllowBindConfirm,0203H
        ARGFRAME XSTACK, 0, STACK
        PUBLIC zb_BindConfirm
        FUNCTION zb_BindConfirm,0203H
        ARGFRAME XSTACK, 0, STACK
        PUBLIC zb_FindDeviceConfirm
        FUNCTION zb_FindDeviceConfirm,0203H
        ARGFRAME XSTACK, 0, STACK
        PUBLIC zb_HanderMsg
        FUNCTION zb_HanderMsg,0203H
        ARGFRAME XSTACK, 0, STACK
        PUBLIC zb_HandleKeys
        FUNCTION zb_HandleKeys,0203H
        ARGFRAME XSTACK, 0, STACK
        PUBLIC zb_HandleOsalEvent
        FUNCTION zb_HandleOsalEvent,0a1203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME XSTACK, 16, STACK
        PUBLIC zb_InCmdList
        PUBLIC zb_OutCmdList
        PUBLIC zb_ReceiveDataIndication
        FUNCTION zb_ReceiveDataIndication,0a1203H
        ARGFRAME XSTACK, 4, STACK
        LOCFRAME XSTACK, 18, STACK
        PUBLIC zb_SendDataConfirm
        FUNCTION zb_SendDataConfirm,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        PUBLIC zb_SimpleDesc
        PUBLIC zb_StartConfirm
        FUNCTION zb_StartConfirm,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        
          CFI Names cfiNames0
          CFI StackFrame CFA_SP SP IDATA
          CFI StackFrame CFA_PSP16 PSP16 XDATA
          CFI StackFrame CFA_XSP16 XSP16 XDATA
          CFI StaticOverlayFrame CFA_IOVERLAY IOVERLAY
          CFI StaticOverlayFrame CFA_DOVERLAY DOVERLAY
          CFI Resource `PSW.CY`:1, `B.BR0`:1, `B.BR1`:1, `B.BR2`:1, `B.BR3`:1
          CFI Resource `B.BR4`:1, `B.BR5`:1, `B.BR6`:1, `B.BR7`:1, `VB.BR8`:1
          CFI Resource `VB.BR9`:1, `VB.BR10`:1, `VB.BR11`:1, `VB.BR12`:1
          CFI Resource `VB.BR13`:1, `VB.BR14`:1, `VB.BR15`:1, VB:8, B:8, A:8
          CFI Resource PSW:8, DPL0:8, DPH0:8, R0:8, R1:8, R2:8, R3:8, R4:8, R5:8
          CFI Resource R6:8, R7:8, V0:8, V1:8, V2:8, V3:8, V4:8, V5:8, V6:8, V7:8
          CFI Resource SP:8, PSPH:8, PSPL:8, PSP16:16, XSPH:8, XSPL:8, XSP16:16
          CFI VirtualResource ?RET:24
          CFI Resource ?BRET_EXT:8
          CFI VirtualResource ?RET_HIGH:8, ?RET_LOW:8
          CFI ResourceParts PSP16 PSPH, PSPL
          CFI ResourceParts XSP16 XSPH, XSPL
          CFI ResourceParts ?RET ?BRET_EXT, ?RET_HIGH, ?RET_LOW
          CFI EndNames cfiNames0
        
          CFI Common cfiCommon0 Using cfiNames0
          CFI CodeAlign 1
          CFI DataAlign -1
          CFI ReturnAddress ?RET CODE
          CFI CFA_DOVERLAY Used
          CFI CFA_IOVERLAY Used
          CFI CFA_SP SP+-3
          CFI CFA_PSP16 PSP16+0
          CFI CFA_XSP16 XSP16+0
          CFI `PSW.CY` SameValue
          CFI `B.BR0` SameValue
          CFI `B.BR1` SameValue
          CFI `B.BR2` SameValue
          CFI `B.BR3` SameValue
          CFI `B.BR4` SameValue
          CFI `B.BR5` SameValue
          CFI `B.BR6` SameValue
          CFI `B.BR7` SameValue
          CFI `VB.BR8` SameValue
          CFI `VB.BR9` SameValue
          CFI `VB.BR10` SameValue
          CFI `VB.BR11` SameValue
          CFI `VB.BR12` SameValue
          CFI `VB.BR13` SameValue
          CFI `VB.BR14` SameValue
          CFI `VB.BR15` SameValue
          CFI VB SameValue
          CFI B Undefined
          CFI A Undefined
          CFI PSW SameValue
          CFI DPL0 SameValue
          CFI DPH0 SameValue
          CFI R0 Undefined
          CFI R1 Undefined
          CFI R2 Undefined
          CFI R3 Undefined
          CFI R4 Undefined
          CFI R5 Undefined
          CFI R6 SameValue
          CFI R7 SameValue
          CFI V0 SameValue
          CFI V1 SameValue
          CFI V2 SameValue
          CFI V3 SameValue
          CFI V4 SameValue
          CFI V5 SameValue
          CFI V6 SameValue
          CFI V7 SameValue
          CFI PSPH Undefined
          CFI PSPL Undefined
          CFI XSPH Undefined
          CFI XSPL Undefined
          CFI ?RET Concat
          CFI ?BRET_EXT Frame(CFA_SP, 3)
          CFI ?RET_HIGH Frame(CFA_SP, 2)
          CFI ?RET_LOW Frame(CFA_SP, 1)
          CFI EndCommon cfiCommon0
        
AT_reportedLinkStatus SYMBOL "AT_reportedLinkStatus"
??AT_reportedLinkStatus?relay SYMBOL "?relay", AT_reportedLinkStatus
HalLedSet           SYMBOL "HalLedSet"
??HalLedSet?relay   SYMBOL "?relay", HalLedSet
NLME_GetCoordExtAddr SYMBOL "NLME_GetCoordExtAddr"
??NLME_GetCoordExtAddr?relay SYMBOL "?relay", NLME_GetCoordExtAddr
NLME_GetCoordShortAddr SYMBOL "NLME_GetCoordShortAddr"
??NLME_GetCoordShortAddr?relay SYMBOL "?relay", NLME_GetCoordShortAddr
ZXBeeAdd            SYMBOL "ZXBeeAdd"
??ZXBeeAdd?relay    SYMBOL "?relay", ZXBeeAdd
ZXBeeBegin          SYMBOL "ZXBeeBegin"
??ZXBeeBegin?relay  SYMBOL "?relay", ZXBeeBegin
ZXBeeEnd            SYMBOL "ZXBeeEnd"
??ZXBeeEnd?relay    SYMBOL "?relay", ZXBeeEnd
ZXBeeInfInit        SYMBOL "ZXBeeInfInit"
??ZXBeeInfInit?relay SYMBOL "?relay", ZXBeeInfInit
ZXBeeInfRecv        SYMBOL "ZXBeeInfRecv"
??ZXBeeInfRecv?relay SYMBOL "?relay", ZXBeeInfRecv
ZXBeeInfSend        SYMBOL "ZXBeeInfSend"
??ZXBeeInfSend?relay SYMBOL "?relay", ZXBeeInfSend
ZXBeeSendConfirm    SYMBOL "ZXBeeSendConfirm"
??ZXBeeSendConfirm?relay SYMBOL "?relay", ZXBeeSendConfirm
at_init             SYMBOL "at_init"
??at_init?relay     SYMBOL "?relay", at_init
at_notify_data      SYMBOL "at_notify_data"
??at_notify_data?relay SYMBOL "?relay", at_notify_data
at_proc             SYMBOL "at_proc"
??at_proc?relay     SYMBOL "?relay", at_proc
memcmp              SYMBOL "memcmp"
??memcmp?relay      SYMBOL "?relay", memcmp
osal_nv_item_len    SYMBOL "osal_nv_item_len"
??osal_nv_item_len?relay SYMBOL "?relay", osal_nv_item_len
osal_nv_read        SYMBOL "osal_nv_read"
??osal_nv_read?relay SYMBOL "?relay", osal_nv_read
osal_nv_write       SYMBOL "osal_nv_write"
??osal_nv_write?relay SYMBOL "?relay", osal_nv_write
osal_rand           SYMBOL "osal_rand"
??osal_rand?relay   SYMBOL "?relay", osal_rand
osal_start_timerEx  SYMBOL "osal_start_timerEx"
??osal_start_timerEx?relay SYMBOL "?relay", osal_start_timerEx
sprintf             SYMBOL "sprintf"
??sprintf?relay     SYMBOL "?relay", sprintf
strlen              SYMBOL "strlen"
??strlen?relay      SYMBOL "?relay", strlen
zb_ReadConfiguration SYMBOL "zb_ReadConfiguration"
??zb_ReadConfiguration?relay SYMBOL "?relay", zb_ReadConfiguration
zb_SystemReset      SYMBOL "zb_SystemReset"
??zb_SystemReset?relay SYMBOL "?relay", zb_SystemReset
zb_WriteConfiguration SYMBOL "zb_WriteConfiguration"
??zb_WriteConfiguration?relay SYMBOL "?relay", zb_WriteConfiguration
GetChannel          SYMBOL "GetChannel"
??GetChannel?relay  SYMBOL "?relay", GetChannel
GetCurrentLogicalType SYMBOL "GetCurrentLogicalType"
??GetCurrentLogicalType?relay SYMBOL "?relay", GetCurrentLogicalType
GetLinkStatus       SYMBOL "GetLinkStatus"
??GetLinkStatus?relay SYMBOL "?relay", GetLinkStatus
GetLogicalType      SYMBOL "GetLogicalType"
??GetLogicalType?relay SYMBOL "?relay", GetLogicalType
GetPanId            SYMBOL "GetPanId"
??GetPanId?relay    SYMBOL "?relay", GetPanId
SetChannel          SYMBOL "SetChannel"
??SetChannel?relay  SYMBOL "?relay", SetChannel
SetLogicalType      SYMBOL "SetLogicalType"
??SetLogicalType?relay SYMBOL "?relay", SetLogicalType
SetPanId            SYMBOL "SetPanId"
??SetPanId?relay    SYMBOL "?relay", SetPanId
_get_at_event       SYMBOL "_get_at_event"
??_get_at_event?relay SYMBOL "?relay", _get_at_event
myReset             SYMBOL "myReset"
??myReset?relay     SYMBOL "?relay", myReset
starReportTPN       SYMBOL "starReportTPN"
??starReportTPN?relay SYMBOL "?relay", starReportTPN
zb_AllowBindConfirm SYMBOL "zb_AllowBindConfirm"
??zb_AllowBindConfirm?relay SYMBOL "?relay", zb_AllowBindConfirm
zb_BindConfirm      SYMBOL "zb_BindConfirm"
??zb_BindConfirm?relay SYMBOL "?relay", zb_BindConfirm
zb_FindDeviceConfirm SYMBOL "zb_FindDeviceConfirm"
??zb_FindDeviceConfirm?relay SYMBOL "?relay", zb_FindDeviceConfirm
zb_HanderMsg        SYMBOL "zb_HanderMsg"
??zb_HanderMsg?relay SYMBOL "?relay", zb_HanderMsg
zb_HandleKeys       SYMBOL "zb_HandleKeys"
??zb_HandleKeys?relay SYMBOL "?relay", zb_HandleKeys
zb_HandleOsalEvent  SYMBOL "zb_HandleOsalEvent"
??zb_HandleOsalEvent?relay SYMBOL "?relay", zb_HandleOsalEvent
zb_ReceiveDataIndication SYMBOL "zb_ReceiveDataIndication"
??zb_ReceiveDataIndication?relay SYMBOL "?relay", zb_ReceiveDataIndication
zb_SendDataConfirm  SYMBOL "zb_SendDataConfirm"
??zb_SendDataConfirm?relay SYMBOL "?relay", zb_SendDataConfirm
zb_StartConfirm     SYMBOL "zb_StartConfirm"
??zb_StartConfirm?relay SYMBOL "?relay", zb_StartConfirm

        EXTERN ??AT_reportedLinkStatus?relay
        FUNCTION ??AT_reportedLinkStatus?relay,00H
        EXTERN ??HalLedSet?relay
        FUNCTION ??HalLedSet?relay,00H
        EXTERN ??NLME_GetCoordExtAddr?relay
        FUNCTION ??NLME_GetCoordExtAddr?relay,00H
        EXTERN ??NLME_GetCoordShortAddr?relay
        FUNCTION ??NLME_GetCoordShortAddr?relay,00H
        EXTERN ??ZXBeeAdd?relay
        FUNCTION ??ZXBeeAdd?relay,00H
        EXTERN ??ZXBeeBegin?relay
        FUNCTION ??ZXBeeBegin?relay,00H
        EXTERN ??ZXBeeEnd?relay
        FUNCTION ??ZXBeeEnd?relay,00H
        EXTERN ??ZXBeeInfInit?relay
        FUNCTION ??ZXBeeInfInit?relay,00H
        EXTERN ??ZXBeeInfRecv?relay
        FUNCTION ??ZXBeeInfRecv?relay,00H
        EXTERN ??ZXBeeInfSend?relay
        FUNCTION ??ZXBeeInfSend?relay,00H
        EXTERN ??ZXBeeSendConfirm?relay
        FUNCTION ??ZXBeeSendConfirm?relay,00H
        EXTERN ??at_init?relay
        FUNCTION ??at_init?relay,00H
        EXTERN ??at_notify_data?relay
        FUNCTION ??at_notify_data?relay,00H
        EXTERN ??at_proc?relay
        FUNCTION ??at_proc?relay,00H
        EXTERN ??memcmp?relay
        FUNCTION ??memcmp?relay,00H
        EXTERN ??osal_nv_item_len?relay
        FUNCTION ??osal_nv_item_len?relay,00H
        EXTERN ??osal_nv_read?relay
        FUNCTION ??osal_nv_read?relay,00H
        EXTERN ??osal_nv_write?relay
        FUNCTION ??osal_nv_write?relay,00H
        EXTERN ??osal_rand?relay
        FUNCTION ??osal_rand?relay,00H
        EXTERN ??osal_start_timerEx?relay
        FUNCTION ??osal_start_timerEx?relay,00H
        EXTERN ??sprintf?relay
        FUNCTION ??sprintf?relay,00H
        EXTERN ??strlen?relay
        FUNCTION ??strlen?relay,00H
        EXTERN ??zb_ReadConfiguration?relay
        FUNCTION ??zb_ReadConfiguration?relay,00H
        EXTERN ??zb_SystemReset?relay
        FUNCTION ??zb_SystemReset?relay,00H
        EXTERN ??zb_WriteConfiguration?relay
        FUNCTION ??zb_WriteConfiguration?relay,00H
        EXTERN AT_reportedLinkStatus
        FUNCTION AT_reportedLinkStatus,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN HalLedSet
        FUNCTION HalLedSet,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN NLME_GetCoordExtAddr
        FUNCTION NLME_GetCoordExtAddr,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN NLME_GetCoordShortAddr
        FUNCTION NLME_GetCoordShortAddr,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ZXBeeAdd
        FUNCTION ZXBeeAdd,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ZXBeeBegin
        FUNCTION ZXBeeBegin,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ZXBeeEnd
        FUNCTION ZXBeeEnd,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ZXBeeInfInit
        FUNCTION ZXBeeInfInit,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ZXBeeInfRecv
        FUNCTION ZXBeeInfRecv,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ZXBeeInfSend
        FUNCTION ZXBeeInfSend,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ZXBeeSendConfirm
        FUNCTION ZXBeeSendConfirm,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN at_init
        FUNCTION at_init,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN at_notify_data
        FUNCTION at_notify_data,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN at_proc
        FUNCTION at_proc,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN memcmp
        FUNCTION memcmp,010202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 20, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN neighborTable
        EXTERN osal_nv_item_len
        FUNCTION osal_nv_item_len,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 21, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_nv_read
        FUNCTION osal_nv_read,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 25, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_nv_write
        FUNCTION osal_nv_write,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 25, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_rand
        FUNCTION osal_rand,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_start_timerEx
        FUNCTION osal_start_timerEx,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN sapi_TaskID
        EXTERN sprintf
        FUNCTION sprintf,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 22, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN strlen
        FUNCTION strlen,010202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN zb_ReadConfiguration
        FUNCTION zb_ReadConfiguration,0202H
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN zb_SystemReset
        FUNCTION zb_SystemReset,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN zb_WriteConfiguration
        FUNCTION zb_WriteConfiguration,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 21, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC

// I:\1_git_code\EPnode_OTA\CC2530 IAP\CC2530_stack\zstack-2.4.0-1.4.0x\Projects\zstack\Samples\common\AppCommon.c
//    1 /*********************************************************************************************
//    2 * 文件： AppCommon.c
//    3 * 作者： Xuzhy 2018.5.16
//    4 * 说明：基于Sapi架构的应用层文件，参考：SimpleSwitch.c
//    5 * 修改：fuyou 增加透传驱动部分
//    6 * 注释：
//    7 *********************************************************************************************/
//    8 
//    9 /*********************************************************************************************
//   10 * 头文件
//   11 *********************************************************************************************/
//   12 #include "ZComDef.h"
//   13 #include "OSAL.h"
//   14 #include "sapi.h"
//   15 #include "hal_key.h"

        ASEGN SFR_AN:DATA:NOROOT,0a8H
// union <unnamed> volatile __sfr _A_IEN0
_A_IEN0:
        DATA8
        DS 1

        ASEGN SFR_AN:DATA:NOROOT,0c9H
// unsigned char volatile __sfr WDCTL
WDCTL:
        DATA8
        DS 1
//   16 #include "hal_led.h"
//   17 #include "hal_adc.h"
//   18 #include "SimpleApp.h"
//   19 #include "mt.h"
//   20 #include "ZDApp.h"
//   21 
//   22 #include <stdio.h>
//   23 #include <stdlib.h>
//   24 #include <string.h>
//   25 #include "sensor.h"
//   26 #include "osal_nv.h"
//   27 #include "AddrMgr.h"
//   28 #include "rtg.h"
//   29 #include "nwk_util.h"
//   30 #include "AppCommon.h"
//   31 #include "zxbee.h"
//   32 #include "at.h"
//   33 #include "zxbee-inf.h"
//   34 #include "OnBoard.h"
//   35 /*********************************************************************************************
//   36 * 宏定义
//   37 *********************************************************************************************/
//   38 // Application States
//   39 #define APP_INIT                           0                    // Initial state
//   40 #define APP_START                          1                    // Device has started/joined network
//   41 
//   42 // Application osal event identifiers
//   43 #define __START_EVT                        0x0010
//   44 #define __REPORT_EVT                       0x0020
//   45 #define __AT_EVT                           0x0040
//   46 
//   47 #define REPORT_DELAY                      30
//   48 
//   49 #define NUM_IN_CMD_SWITCH                 2
//   50 #define NUM_OUT_CMD_SWITCH                2
//   51 /*********************************************************************************************
//   52 * 全局变量
//   53 *********************************************************************************************/

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//   54 static uint8 mLinkStatus = 0;                                   // zigbee入网状态，0：未入网，1：人网
mLinkStatus:
        DS 1
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA16
//   55 static uint16 panid;
panid:
        DS 2
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//   56 static uint8 logicalType;
logicalType:
        DS 1
        REQUIRE __INIT_XDATA_Z
//   57 

        RSEG XDATA_I:XDATA:NOROOT(0)
//   58 static uint32 chs[] = {0x00000800, 0x00001000, 0x00002000, 0x00004000, 0x00008000,
chs:
        DATA8
        DS 64
        REQUIRE `?<Initializer for chs>`
        REQUIRE __INIT_XDATA_I
//   59         0x00010000, 0x00020000, 0x00040000,0x00080000,0x00100000,0x00200000,
//   60         0x00400000,0x00800000,0x01000000,0x02000000,0x04000000}; 
//   61 

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA32
//   62 const cId_t zb_InCmdList[NUM_IN_CMD_SWITCH] =
zb_InCmdList:
        DATA16
        DW 1
        DW 2
//   63 {
//   64   ID_CMD_READ_REQ,
//   65   ID_CMD_WRITE_REQ,
//   66 };

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA32
//   67 const cId_t zb_OutCmdList[NUM_OUT_CMD_SWITCH] =
zb_OutCmdList:
        DATA16
        DW 32769
        DW 32770
//   68 {
//   69   ID_CMD_READ_RES,
//   70   ID_CMD_WRITE_RES,
//   71 };
//   72 // Define SimpleDescriptor for Switch device

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
//   73 const SimpleDescriptionFormat_t zb_SimpleDesc =
zb_SimpleDesc:
        DB 2
        DATA16
        DW 3856
        DW 1
        DATA8
        DB 1
        DB 2
        DATA16
        DW zb_InCmdList
        DATA8
        DB 2
        DATA16
        DW zb_OutCmdList
//   74 {
//   75   MY_ENDPOINT_ID,             //  Endpoint
//   76   MY_PROFILE_ID,              //  Profile ID
//   77   DEV_ID_SENSOR,              //  Device ID
//   78   DEVICE_VERSION_SWITCH,      //  Device Version
//   79   0,                          //  Reserved
//   80   NUM_IN_CMD_SWITCH,          //  Number of Input Commands
//   81   (cId_t *) zb_InCmdList,     //  Input Command List
//   82   NUM_OUT_CMD_SWITCH,         //  Number of Output Commands
//   83   (cId_t *) zb_OutCmdList     //  Output Command List
//   84 };
//   85 

        RSEG BANKED_CODE:CODE:NOROOT(0)
//   86 void myReset(void)
myReset:
          CFI Block cfiBlock0 Using cfiCommon0
          CFI Function myReset
        CODE
//   87 {
        ; Saved register size: 0
        ; Auto size: 0
//   88   HAL_DISABLE_INTERRUPTS();
        CLR     0xa8.7
//   89   WatchDogEnable( WDTISH );
        MOV     0xc9,#-0x55
        MOV     0xc9,#0x5b
//   90   while(1);
??myReset_0:
        SJMP    ??myReset_0
          CFI EndBlock cfiBlock0
        REQUIRE _A_IEN0
        REQUIRE WDCTL
//   91 }
//   92 
//   93 /*********************************************************************************************
//   94 * 函数原型说明
//   95 *********************************************************************************************/
//   96 void zb_HanderMsg(osal_event_hdr_t *msg);
//   97 void sensorLinkOn(void);
//   98 static void my_report_proc(void);
//   99 static char* read_nb(char *buf, int len);

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA16
//  100 static uint16 _tm_report_delay, _tm_report_cnt;
_tm_report_delay:
        DS 2
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA16
_tm_report_cnt:
        DS 2
        REQUIRE __INIT_XDATA_Z
//  101 void starReportTPN(uint16 t, uint16 n);
//  102 /*********************************************************************************************
//  103 * 名称：_get_at_event()
//  104 * 功能：导出osal at事件标识
//  105 * 参数：
//  106 * 返回：
//  107 * 修改：
//  108 * 注释：
//  109 *********************************************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  110 uint8 _get_at_event(void)
_get_at_event:
          CFI Block cfiBlock1 Using cfiCommon0
          CFI Function _get_at_event
        CODE
//  111 {
        ; Saved register size: 0
        ; Auto size: 0
//  112   return __AT_EVT;
        MOV     R1,#0x40
        LJMP    ?BRET
          CFI EndBlock cfiBlock1
//  113 }
//  114 /*********************************************************************************************
//  115 * 名称：zb_HandleOsalEvent()
//  116 * 功能：sapi事件处理函数，当一个任务事件发生了之后，调用这个函数
//  117 * 参数：event - 产生的任务事件
//  118 * 返回：
//  119 * 修改：
//  120 * 注释：
//  121 *********************************************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  122 void zb_HandleOsalEvent( uint16 event )
zb_HandleOsalEvent:
          CFI Block cfiBlock2 Using cfiCommon0
          CFI Function zb_HandleOsalEvent
        CODE
//  123 {
        FUNCALL zb_HandleOsalEvent, at_init
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL zb_HandleOsalEvent, zb_ReadConfiguration
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL zb_HandleOsalEvent, zb_WriteConfiguration
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL zb_HandleOsalEvent, zb_SystemReset
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL zb_HandleOsalEvent, zb_ReadConfiguration
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL zb_HandleOsalEvent, zb_WriteConfiguration
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL zb_HandleOsalEvent, zb_SystemReset
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL zb_HandleOsalEvent, osal_nv_read
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL zb_HandleOsalEvent, HalLedSet
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL zb_HandleOsalEvent, ZXBeeInfInit
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL zb_HandleOsalEvent, osal_start_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL zb_HandleOsalEvent, myReset
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL zb_HandleOsalEvent, myReset
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL zb_HandleOsalEvent, osal_start_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL zb_HandleOsalEvent, my_report_proc
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL zb_HandleOsalEvent, osal_start_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL zb_HandleOsalEvent, at_proc
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        MOV     A,#-0xa
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 10)
        ; Saved register size: 10
        ; Auto size: 2
        MOV     A,#-0x2
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 12)
        MOV     A,R2
        MOV     R6,A
        MOV     A,R3
        MOV     R7,A
//  124   if (event & ZB_ENTRY_EVENT) {
        MOV     A,R6
        ANL     A,#0x0
        MOV     R0,A
        MOV     A,R7
        ANL     A,#0x10
        MOV     R1,A
        MOV     A,R0
        ORL     A,R1
        JNZ     $+5
        LJMP    ??zb_HandleOsalEvent_0 & 0xFFFF
//  125     uint8 startOptions;
//  126     uint8 selType = NODE_TYPE;
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0x2
        MOVX    @DPTR,A
//  127     
//  128     at_init();
        ; Setup parameters for call to function at_init
        LCALL   ??at_init?relay      ; Banked call to: at_init
//  129 
//  130     zb_ReadConfiguration( ZCD_NV_LOGICAL_TYPE, sizeof(uint8), &logicalType );
        ; Setup parameters for call to function zb_ReadConfiguration
        MOV     R4,#logicalType & 0xff
        MOV     R5,#(logicalType >> 8) & 0xff
        MOV     R2,#0x1
        MOV     R1,#-0x79
        LCALL   ??zb_ReadConfiguration?relay; Banked call to: zb_ReadConfiguration
        MOV     A,R1
//  131     if ( logicalType !=ZG_DEVICETYPE_ENDDEVICE && logicalType !=ZG_DEVICETYPE_ROUTER ) {
        MOV     DPTR,#logicalType
        MOVX    A,@DPTR
        XRL     A,#0x2
        JZ      ??zb_HandleOsalEvent_1
        MOV     DPTR,#logicalType
        MOVX    A,@DPTR
        XRL     A,#0x1
        JZ      ??zb_HandleOsalEvent_1
//  132       zb_WriteConfiguration(ZCD_NV_LOGICAL_TYPE, sizeof(uint8), &selType);
        ; Setup parameters for call to function zb_WriteConfiguration
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP102_8
        MOV     R2,#0x1
        MOV     R1,#-0x79
        LCALL   ??zb_WriteConfiguration?relay; Banked call to: zb_WriteConfiguration
        MOV     A,R1
//  133       zb_SystemReset();
        ; Setup parameters for call to function zb_SystemReset
        LCALL   ??zb_SystemReset?relay; Banked call to: zb_SystemReset
//  134     }
//  135 	
//  136     // Do more configuration if necessary and then restart device with auto-start bit set
//  137     // write endpoint to simple desc...dont pass it in start req..then reset
//  138     zb_ReadConfiguration( ZCD_NV_STARTUP_OPTION, sizeof(uint8), &startOptions );
??zb_HandleOsalEvent_1:
        ; Setup parameters for call to function zb_ReadConfiguration
        MOV     R4,?XSP + 0
        MOV     R5,?XSP + 1
        MOV     R2,#0x1
        MOV     R1,#0x3
        LCALL   ??zb_ReadConfiguration?relay; Banked call to: zb_ReadConfiguration
        MOV     A,R1
//  139     if (startOptions != ZCD_STARTOPT_AUTO_START) {
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        XRL     A,#0x4
        JZ      ??zb_HandleOsalEvent_2
//  140       startOptions = ZCD_STARTOPT_AUTO_START;
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     A,#0x4
        MOVX    @DPTR,A
//  141       zb_WriteConfiguration( ZCD_NV_STARTUP_OPTION, sizeof(uint8), &startOptions );
        ; Setup parameters for call to function zb_WriteConfiguration
        MOV     R4,?XSP + 0
        MOV     R5,?XSP + 1
        MOV     R2,#0x1
        MOV     R1,#0x3
        LCALL   ??zb_WriteConfiguration?relay; Banked call to: zb_WriteConfiguration
        MOV     A,R1
//  142       zb_SystemReset();
        ; Setup parameters for call to function zb_SystemReset
        LCALL   ??zb_SystemReset?relay; Banked call to: zb_SystemReset
//  143     } 
//  144     osal_nv_read( ZCD_NV_PANID, 0, sizeof( panid ), &panid );    
??zb_HandleOsalEvent_2:
        ; Setup parameters for call to function osal_nv_read
        MOV     ?V0,#panid & 0xff
        MOV     ?V1,#(panid >> 8) & 0xff
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 14)
        MOV     ?V0,#0x2
        MOV     ?V1,#0x0
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 16)
        MOV     R4,#0x0
        MOV     R5,#0x0
        MOV     R2,#-0x7d
        MOV     R3,#0x0
        LCALL   ??osal_nv_read?relay ; Banked call to: osal_nv_read
        MOV     A,#0x4
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 12)
        MOV     A,R1
//  145     HalLedSet( HAL_LED_2, HAL_LED_MODE_FLASH );			        //网络灯开始闪烁
        ; Setup parameters for call to function HalLedSet
        MOV     R2,#0x4
        MOV     R1,#0x2
        LCALL   ??HalLedSet?relay    ; Banked call to: HalLedSet
        MOV     A,R1
//  146     
//  147     ZXBeeInfInit();                                             // ZXBee通信协议初始化
        ; Setup parameters for call to function ZXBeeInfInit
        LCALL   ??ZXBeeInfInit?relay ; Banked call to: ZXBeeInfInit
//  148 #ifndef CC2530_Serial
//  149         sensorInit();                                               // 传感器初始化
//  150 #endif
//  151 #ifdef CC2530_Serial
//  152      WatchDogEnable( WDTIMX );
        MOV     0xc9,#-0x58
        MOV     0xc9,#0x58
//  153      
//  154 #endif        
//  155     osal_start_timerEx( sapi_TaskID, __START_EVT, 500);     
        ; Setup parameters for call to function osal_start_timerEx
        MOV     R4,#-0xc
        MOV     R5,#0x1
        MOV     R2,#0x10
        MOV     R3,#0x0
        MOV     DPTR,#sapi_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??osal_start_timerEx?relay; Banked call to: osal_start_timerEx
        MOV     A,R1
//  156   }
//  157   
//  158   
//  159   static uint16 tick = 0;
//  160   static uint16 at_tick = 0;
//  161   
//  162   if (event & __START_EVT) {
??zb_HandleOsalEvent_0:
        MOV     A,R6
        ANL     A,#0x10
        JZ      ??zb_HandleOsalEvent_3
//  163     
//  164 #ifdef CC2530_Serial
//  165     uint8 f = EA;
        MOV     C,0xa8.7
        CLR     A
        RLC     A
        MOV     ?V0,A
//  166     EA = 0;
        CLR     0xa8.7
//  167     WDCTL = WDCLP1;
        MOV     0xc9,#-0x60
//  168     WDCTL = WDCLP2;
        MOV     0xc9,#0x50
//  169     EA = f;
        MOV     ?V1,?V0
        MOV     A,?V0
        MOV     C,0xE0 /* A   */.0
        MOV     0xa8.7,C
//  170     
//  171     if (mLinkStatus && ((int16)tick-(int16)at_tick) > 5*60*2){
        MOV     DPTR,#mLinkStatus
        MOVX    A,@DPTR
        JZ      ??zb_HandleOsalEvent_4
        MOV     DPTR,#??tick
        PUSH    DPL
          CFI CFA_SP SP+-1
        PUSH    DPH
          CFI CFA_SP SP+-2
        MOV     DPTR,#??at_tick
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        POP     DPH
          CFI CFA_SP SP+-1
        POP     DPL
          CFI CFA_SP SP+0
        MOVX    A,@DPTR
        CLR     C
        SUBB    A,R0
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        SUBB    A,R1
        MOV     R1,A
        CLR     C
        MOV     A,R0
        SUBB    A,#0x59
        MOV     A,R1
        SUBB    A,#0x2
        MOV     C,0xD0 /* PSW */.2
        XRL     A,PSW
        RLC     A
        JC      ??zb_HandleOsalEvent_4
//  172       myReset();
        ; Setup parameters for call to function myReset
        LCALL   ??myReset?relay      ; Banked call to: myReset
//  173     }
//  174 #endif    
//  175     
//  176     tick += 1;
??zb_HandleOsalEvent_4:
        MOV     DPTR,#??tick
        MOVX    A,@DPTR
        ADD     A,#0x1
        MOVX    @DPTR,A
        INC     DPTR
        MOVX    A,@DPTR
        ADDC    A,#0x0
        MOVX    @DPTR,A
//  177     if (mLinkStatus == 0 && tick>110) {
        MOV     DPTR,#mLinkStatus
        MOVX    A,@DPTR
        JNZ     ??zb_HandleOsalEvent_5
        MOV     DPTR,#??tick
        CLR     C
        MOVX    A,@DPTR
        SUBB    A,#0x6f
        INC     DPTR
        MOVX    A,@DPTR
        SUBB    A,#0x0
        JC      ??zb_HandleOsalEvent_5
//  178       //zb_SystemReset();
//  179       myReset();
        ; Setup parameters for call to function myReset
        LCALL   ??myReset?relay      ; Banked call to: myReset
//  180     }
//  181    
//  182     osal_start_timerEx( sapi_TaskID, __START_EVT, 500); 
??zb_HandleOsalEvent_5:
        ; Setup parameters for call to function osal_start_timerEx
        MOV     R4,#-0xc
        MOV     R5,#0x1
        MOV     R2,#0x10
        MOV     R3,#0x0
        MOV     DPTR,#sapi_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??osal_start_timerEx?relay; Banked call to: osal_start_timerEx
        MOV     A,R1
//  183   }
//  184   if (event & __REPORT_EVT) {                                   // 触发上报网络参数事件
??zb_HandleOsalEvent_3:
        MOV     A,R6
        ANL     A,#0x20
        JZ      ??zb_HandleOsalEvent_6
//  185     if (_tm_report_cnt > 0) {
        MOV     DPTR,#_tm_report_cnt
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R0
        ORL     A,R1
        JZ      ??zb_HandleOsalEvent_6
//  186       my_report_proc();
        ; Setup parameters for call to function my_report_proc
        LCALL   ??my_report_proc?relay; Banked call to: my_report_proc
//  187       osal_start_timerEx( sapi_TaskID, __REPORT_EVT, _tm_report_delay * 1000);
        ; Setup parameters for call to function osal_start_timerEx
        MOV     DPTR,#_tm_report_delay
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R5,A
        MOV     A,R4
        MOV     B,#-0x18
        MUL     AB
        XCH     A,R4
        MOV     R0,B
        MOV     B,#0x3
        MUL     AB
        ADD     A,R0
        MOV     R0,A
        MOV     B,#-0x18
        MOV     A,R5
        MUL     AB
        ADD     A,R0
        MOV     R5,A
        MOV     R2,#0x20
        MOV     R3,#0x0
        MOV     DPTR,#sapi_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??osal_start_timerEx?relay; Banked call to: osal_start_timerEx
        MOV     A,R1
//  188       _tm_report_cnt--;
        MOV     DPTR,#_tm_report_cnt
        MOVX    A,@DPTR
        ADD     A,#-0x1
        MOVX    @DPTR,A
        INC     DPTR
        MOVX    A,@DPTR
        ADDC    A,#-0x1
        MOVX    @DPTR,A
//  189     }
//  190   }
//  191   if (event & __AT_EVT) {                                       // 触发AT指令事件
??zb_HandleOsalEvent_6:
        MOV     A,R6
        ANL     A,#0x40
        JZ      ??zb_HandleOsalEvent_7
//  192 #ifdef CC2530_Serial
//  193     at_tick = tick;
        MOV     DPTR,#??tick
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     DPTR,#??at_tick
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
//  194 #endif
//  195     at_proc();
        ; Setup parameters for call to function at_proc
        LCALL   ??at_proc?relay      ; Banked call to: at_proc
//  196   }
//  197   if (event & 0x000F) {                                         // 触发用户自定义事件
//  198 #ifndef CC2530_Serial
//  199         MyEventProcess( event );
//  200 #endif
//  201   }
//  202 }
??zb_HandleOsalEvent_7:
        MOV     A,#0x2
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 10)
        MOV     R7,#0x2
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock2
        REQUIRE WDCTL
        REQUIRE _A_IEN0

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA16
??tick:
        DS 2
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA16
??at_tick:
        DS 2
        REQUIRE __INIT_XDATA_Z
//  203 /*********************************************************************************************
//  204 * 名称：zb_HandleKeys()
//  205 * 功能：处理节点产生的按键事件
//  206 * 参数：shift：转移标志；keys : 按下的按键
//  207 * 返回：
//  208 * 修改：
//  209 * 注释：
//  210 *********************************************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  211 void zb_HandleKeys( uint8 shift, uint8 keys )
zb_HandleKeys:
          CFI Block cfiBlock3 Using cfiCommon0
          CFI Function zb_HandleKeys
        CODE
//  212 {
        ; Saved register size: 0
        ; Auto size: 0
//  213 }
        LJMP    ?BRET
          CFI EndBlock cfiBlock3
//  214 /*********************************************************************************************
//  215 * 名称：zb_StartConfirm()
//  216 * 功能：当zstack协议栈启动完成后，执行这个函数
//  217 * 参数：status：启动完成后的状态
//  218 * 返回：
//  219 * 修改：
//  220 * 注释：
//  221 *********************************************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  222 void zb_StartConfirm( uint8 status )
zb_StartConfirm:
          CFI Block cfiBlock4 Using cfiCommon0
          CFI Function zb_StartConfirm
        CODE
//  223 {
        FUNCALL zb_StartConfirm, HalLedSet
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL zb_StartConfirm, AT_reportedLinkStatus
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x9
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 0
        MOV     A,R1
        MOV     R6,A
//  224   // If the device sucessfully started, change state to running
//  225   if ( status == ZB_SUCCESS )                                   // 入网成功
        MOV     A,R6
        JNZ     ??zb_StartConfirm_0
//  226   {
//  227     HalLedSet( HAL_LED_2, HAL_LED_MODE_ON );
        ; Setup parameters for call to function HalLedSet
        MOV     R2,#0x1
        MOV     R1,#0x2
        LCALL   ??HalLedSet?relay    ; Banked call to: HalLedSet
        MOV     A,R1
//  228     mLinkStatus = 1;
        MOV     DPTR,#mLinkStatus
        MOV     A,#0x1
        MOVX    @DPTR,A
//  229 #ifndef CC2530_Serial
//  230         sensorLinkOn();                                             // 入网成功后调用
//  231 #else
//  232     AT_reportedLinkStatus();
        ; Setup parameters for call to function AT_reportedLinkStatus
        LCALL   ??AT_reportedLinkStatus?relay; Banked call to: AT_reportedLinkStatus
//  233 #endif
//  234   }
//  235   else
//  236   {
//  237   }
//  238 }
??zb_StartConfirm_0:
        MOV     R7,#0x1
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock4
//  239 /*********************************************************************************************
//  240 * 名称：zb_SendDataConfirm()
//  241 * 功能：发送数据确认
//  242 * 参数：
//  243 * 返回：
//  244 * 修改：
//  245 * 注释：
//  246 *********************************************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  247 void zb_SendDataConfirm( uint8 handle, uint8 status )
zb_SendDataConfirm:
          CFI Block cfiBlock5 Using cfiCommon0
          CFI Function zb_SendDataConfirm
        CODE
//  248 {
        FUNCALL zb_SendDataConfirm, ZXBeeSendConfirm
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x9
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 0
        MOV     A,R1
        MOV     R7,A
        MOV     A,R2
        MOV     R6,A
//  249   void ZXBeeSendConfirm(uint8 h, uint8 st);
//  250   ZXBeeSendConfirm(handle, status);
        ; Setup parameters for call to function ZXBeeSendConfirm
        MOV     A,R6
        MOV     R2,A
        MOV     A,R7
        MOV     R1,A
        LCALL   ??ZXBeeSendConfirm?relay; Banked call to: ZXBeeSendConfirm
//  251 }
        MOV     R7,#0x1
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock5
//  252 /*********************************************************************************************
//  253 * 名称：zb_BindConfirm()
//  254 * 功能：绑定确认
//  255 * 参数：
//  256 * 返回：
//  257 * 修改：
//  258 * 注释：
//  259 *********************************************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  260 void zb_BindConfirm( uint16 commandId, uint8 status )
zb_BindConfirm:
          CFI Block cfiBlock6 Using cfiCommon0
          CFI Function zb_BindConfirm
        CODE
//  261 {  
        ; Saved register size: 0
        ; Auto size: 0
//  262 }
        LJMP    ?BRET
          CFI EndBlock cfiBlock6
//  263 /*********************************************************************************************
//  264 * 名称：zb_AllowBindConfirm()
//  265 * 功能：允许其他设备绑定
//  266 * 参数：
//  267 * 返回：
//  268 * 修改：
//  269 * 注释：
//  270 *********************************************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  271 void zb_AllowBindConfirm( uint16 source )
zb_AllowBindConfirm:
          CFI Block cfiBlock7 Using cfiCommon0
          CFI Function zb_AllowBindConfirm
        CODE
//  272 {
        ; Saved register size: 0
        ; Auto size: 0
//  273 }
        LJMP    ?BRET
          CFI EndBlock cfiBlock7
//  274 /*********************************************************************************************
//  275 * 名称：zb_FindDeviceConfirm()
//  276 * 功能：查找设备完成后确定函数
//  277 * 参数：
//  278 * 返回：
//  279 * 修改：
//  280 * 注释：
//  281 *********************************************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  282 void zb_FindDeviceConfirm( uint8 searchType, uint8 *searchKey, uint8 *result )
zb_FindDeviceConfirm:
          CFI Block cfiBlock8 Using cfiCommon0
          CFI Function zb_FindDeviceConfirm
        CODE
//  283 {
        ; Saved register size: 0
        ; Auto size: 0
//  284 }
        LJMP    ?BRET
          CFI EndBlock cfiBlock8
//  285 /*********************************************************************************************
//  286 * 名称：zb_HanderMsg()
//  287 * 功能：MT串口处理函数
//  288 * 参数：
//  289 * 返回：
//  290 * 修改：
//  291 * 注释：
//  292 *********************************************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  293 void zb_HanderMsg(osal_event_hdr_t *msg)
zb_HanderMsg:
          CFI Block cfiBlock9 Using cfiCommon0
          CFI Function zb_HanderMsg
        CODE
//  294 {
        ; Saved register size: 0
        ; Auto size: 0
//  295 }
        LJMP    ?BRET
          CFI EndBlock cfiBlock9
//  296 /*********************************************************************************************
//  297 * 名称：zb_ReceiveDataIndication()
//  298 * 功能：当zigbee接受到节点发送的数据后，调用这个函数
//  299 * 参数：source：源地址；commandID：命令ID；len：收到数据的长度；pData：收到的数据
//  300 * 返回：
//  301 * 修改：
//  302 * 注释：
//  303 *********************************************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  304 void zb_ReceiveDataIndication( uint16 source, uint16 command, uint16 len, uint8 *pData  )
zb_ReceiveDataIndication:
          CFI Block cfiBlock10 Using cfiCommon0
          CFI Function zb_ReceiveDataIndication
        CODE
//  305 {
        FUNCALL zb_ReceiveDataIndication, NLME_GetCoordShortAddr
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL zb_ReceiveDataIndication, HalLedSet
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL zb_ReceiveDataIndication, HalLedSet
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL zb_ReceiveDataIndication, at_notify_data
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL zb_ReceiveDataIndication, ZXBeeInfRecv
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        REQUIRE ?V2
        REQUIRE ?V3
        REQUIRE ?V4
        REQUIRE ?V5
        REQUIRE ?V6
        REQUIRE ?V7
        MOV     A,#-0x10
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 16)
        ; Saved register size: 16
        ; Auto size: 2
        MOV     A,#-0x2
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 18)
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     A,R2
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R3
        MOVX    @DPTR,A
        MOV     ?V2,R4
        MOV     ?V3,R5
        MOV     A,#0x12
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R6,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R7,A
        MOV     A,#0x14
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     ?V0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V1,A
//  306   uint16 pAddr = NLME_GetCoordShortAddr();
        ; Setup parameters for call to function NLME_GetCoordShortAddr
        LCALL   ??NLME_GetCoordShortAddr?relay; Banked call to: NLME_GetCoordShortAddr
        MOV     ?V4,R2
        MOV     ?V5,R3
        MOV     ?V6,?V4
        MOV     ?V7,?V5
//  307   
//  308   /* 接收到数据处理 */
//  309   HalLedSet( HAL_LED_1, HAL_LED_MODE_OFF );
        ; Setup parameters for call to function HalLedSet
        MOV     R2,#0x0
        MOV     R1,#0x1
        LCALL   ??HalLedSet?relay    ; Banked call to: HalLedSet
        MOV     A,R1
//  310   HalLedSet( HAL_LED_1, HAL_LED_MODE_BLINK );  
        ; Setup parameters for call to function HalLedSet
        MOV     R2,#0x2
        MOV     R1,#0x1
        LCALL   ??HalLedSet?relay    ; Banked call to: HalLedSet
        MOV     A,R1
//  311   
//  312  
//  313   // 处理接收到的无线数据包APP_DATA
//  314   if (command == 0) { //如果command==0 说明是zxbee数据
        MOV     A,?V2
        ORL     A,?V3
        JNZ     ??zb_ReceiveDataIndication_0
//  315     if (logicalType != ZG_DEVICETYPE_COORDINATOR) { //通过at指令发送到串口
        MOV     DPTR,#logicalType
        MOVX    A,@DPTR
        JZ      ??zb_ReceiveDataIndication_1
//  316       at_notify_data((char *)pData, len);
        ; Setup parameters for call to function at_notify_data
        MOV     A,R6
        MOV     R4,A
        MOV     A,R7
        MOV     R5,A
        MOV     R2,?V0
        MOV     R3,?V1
        LCALL   ??at_notify_data?relay; Banked call to: at_notify_data
//  317     }
//  318     ZXBeeInfRecv((char*)pData, len);   //交给ZXBee接口处理接收数据
??zb_ReceiveDataIndication_1:
        ; Setup parameters for call to function ZXBeeInfRecv
        MOV     A,R6
        MOV     R4,A
        MOV     A,R7
        MOV     R5,A
        MOV     R2,?V0
        MOV     R3,?V1
        LCALL   ??ZXBeeInfRecv?relay ; Banked call to: ZXBeeInfRecv
//  319   }
//  320 }
??zb_ReceiveDataIndication_0:
        MOV     A,#0x2
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 16)
        MOV     R7,#0x8
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock10
//  321 /*********************************************************************************************
//  322 * 名称：my_report_proc()
//  323 * 功能：节点网络信息上报处理
//  324 * 参数：
//  325 * 返回：
//  326 * 修改：
//  327 * 注释：
//  328 *********************************************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  329 static void my_report_proc(void)
my_report_proc:
          CFI Block cfiBlock11 Using cfiCommon0
          CFI Function my_report_proc
        CODE
//  330 {
        FUNCALL my_report_proc, ZXBeeBegin
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL my_report_proc, NLME_GetCoordExtAddr
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL my_report_proc, sprintf
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 22, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 22, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL my_report_proc, strlen
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL my_report_proc, read_nb
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL my_report_proc, ZXBeeAdd
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL my_report_proc, at_notify_data
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL my_report_proc, ZXBeeEnd
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL my_report_proc, strlen
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL my_report_proc, ZXBeeInfSend
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        MOV     A,#-0xa
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 10)
        ; Saved register size: 10
        ; Auto size: 8
        MOV     A,#-0x8
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 18)
//  331   unsigned char mac[Z_EXTADDR_LEN];
//  332   static char wbuf[96];
//  333   ZXBeeBegin();
        ; Setup parameters for call to function ZXBeeBegin
        LCALL   ??ZXBeeBegin?relay   ; Banked call to: ZXBeeBegin
        MOV     A,R1
//  334 
//  335   NLME_GetCoordExtAddr(mac);
        ; Setup parameters for call to function NLME_GetCoordExtAddr
        MOV     R2,?XSP + 0
        MOV     R3,?XSP + 1
        LCALL   ??NLME_GetCoordExtAddr?relay; Banked call to: NLME_GetCoordExtAddr
//  336   sprintf(wbuf, "%02X%02X", mac[1],mac[0]);
        ; Setup parameters for call to function sprintf
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        MOV     ?V0,A
        MOV     ?V1,#0x0
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 20)
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     ?V0,A
        MOV     ?V1,#0x0
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 22)
        MOV     R4,#`?<Constant "%02X%02X">` & 0xff
        MOV     R5,#(`?<Constant "%02X%02X">` >> 8) & 0xff
        MOV     R2,#??wbuf & 0xff
        MOV     R3,#(??wbuf >> 8) & 0xff
        LCALL   ??sprintf?relay      ; Banked call to: sprintf
        MOV     A,#0x4
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 18)
//  337 
//  338   read_nb(wbuf+strlen(wbuf), -1);
        ; Setup parameters for call to function strlen
        MOV     R2,#??wbuf & 0xff
        MOV     R3,#(??wbuf >> 8) & 0xff
        LCALL   ??strlen?relay       ; Banked call to: strlen
        MOV     ?V0,R2
        MOV     ?V1,R3
        MOV     R0,?V0
        MOV     R1,?V1
        ; Setup parameters for call to function read_nb
        MOV     R4,#-0x1
        MOV     R5,#-0x1
        MOV     A,#??wbuf & 0xff
        ADD     A,R0
        MOV     R2,A
        MOV     A,#(??wbuf >> 8) & 0xff
        ADDC    A,R1
        MOV     R3,A
        LCALL   ??read_nb?relay      ; Banked call to: read_nb
//  339   ZXBeeAdd("PN", wbuf);
        ; Setup parameters for call to function ZXBeeAdd
        MOV     R4,#??wbuf & 0xff
        MOV     R5,#(??wbuf >> 8) & 0xff
        MOV     R2,#`?<Constant "PN">` & 0xff
        MOV     R3,#(`?<Constant "PN">` >> 8) & 0xff
        LCALL   ??ZXBeeAdd?relay     ; Banked call to: ZXBeeAdd
        MOV     A,R1
//  340   
//  341 #ifndef CC2530_Serial
//  342     sprintf(wbuf, "%d%d%s", NODE_CATEGORY, logicalType, NODE_NAME);
//  343     ZXBeeAdd("TYPE", wbuf);
//  344 #else
//  345     at_notify_data("AT+TYPE?\r\n",strlen("AT+TYPE?\r\n"));
        ; Setup parameters for call to function at_notify_data
        MOV     R4,#0xa
        MOV     R5,#0x0
        MOV     R2,#`?<Constant "AT+TYPE?\\r\\n">` & 0xff
        MOV     R3,#(`?<Constant "AT+TYPE?\\r\\n">` >> 8) & 0xff
        LCALL   ??at_notify_data?relay; Banked call to: at_notify_data
//  346 #endif
//  347   char *p = ZXBeeEnd();
        ; Setup parameters for call to function ZXBeeEnd
        LCALL   ??ZXBeeEnd?relay     ; Banked call to: ZXBeeEnd
        MOV     ?V0,R2
        MOV     ?V1,R3
        MOV     R6,?V0
        MOV     R7,?V1
//  348   if (p != NULL) {
        MOV     A,R6
        ORL     A,R7
        JZ      ??my_report_proc_0
//  349     ZXBeeInfSend(p, strlen(p));
        ; Setup parameters for call to function strlen
        MOV     A,R6
        MOV     R2,A
        MOV     A,R7
        MOV     R3,A
        LCALL   ??strlen?relay       ; Banked call to: strlen
        MOV     ?V0,R2
        MOV     ?V1,R3
        MOV     R4,?V0
        MOV     R5,?V1
        ; Setup parameters for call to function ZXBeeInfSend
        MOV     A,R6
        MOV     R2,A
        MOV     A,R7
        MOV     R3,A
        LCALL   ??ZXBeeInfSend?relay ; Banked call to: ZXBeeInfSend
//  350   }
//  351 }
??my_report_proc_0:
        MOV     A,#0x8
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 10)
        MOV     R7,#0x2
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock11

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
??wbuf:
        DS 96
        REQUIRE __INIT_XDATA_Z
//  352 /*********************************************************************************************
//  353 * 名称：read_nb()
//  354 * 功能：查询邻居节点地址
//  355 * 参数：
//  356 * 返回：
//  357 * 修改：
//  358 * 注释：
//  359 *********************************************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  360 static char* read_nb(char *buf, int len)
read_nb:
          CFI Block cfiBlock12 Using cfiCommon0
          CFI Function read_nb
        CODE
//  361 {
        FUNCALL read_nb, memcmp
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 20, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 20, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL read_nb, sprintf
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 22, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 22, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL read_nb, strlen
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        REQUIRE ?V2
        REQUIRE ?V3
        REQUIRE ?V4
        REQUIRE ?V5
        REQUIRE ?V6
        REQUIRE ?V7
        MOV     A,#-0x10
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 16)
        ; Saved register size: 16
        ; Auto size: 2
        MOV     A,#-0x2
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 18)
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     A,R4
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R5
        MOVX    @DPTR,A
        MOV     ?V6,R2
        MOV     ?V7,R3
//  362   int i;
//  363   char *p;
//  364   
//  365   buf[0] = 0;
        MOV     DPL,?V6
        MOV     DPH,?V7
        MOV     A,#0x0
        MOVX    @DPTR,A
//  366   p = buf;     
        MOV     ?V2,?V6
        MOV     ?V3,?V7
//  367   for (i=0; i<MAX_NEIGHBOR_ENTRIES; i++) {
        MOV     R6,#0x0
        MOV     R7,#0x0
??read_nb_0:
        CLR     C
        MOV     A,R6
        SUBB    A,#0x10
        MOV     A,R7
        SUBB    A,#0x0
        MOV     C,0xD0 /* PSW */.2
        XRL     A,PSW
        RLC     A
        JC      $+5
        LJMP    ??read_nb_1 & 0xFFFF
//  368     neighborEntry_t *pnb = &neighborTable[i];
        MOV     A,R6
        MOV     R0,A
        MOV     A,R7
        MOV     R1,A
        MOV     A,R0
        MOV     B,#0x17
        MUL     AB
        XCH     A,R0
        MOV     R2,B
        MOV     B,#0x0
        MUL     AB
        ADD     A,R2
        MOV     R2,A
        MOV     B,#0x17
        MOV     A,R1
        MUL     AB
        ADD     A,R2
        MOV     R1,A
        MOV     A,#neighborTable & 0xff
        ADD     A,R0
        MOV     ?V0,A
        MOV     A,#(neighborTable >> 8) & 0xff
        ADDC    A,R1
        MOV     ?V1,A
//  369     if (pnb->panId == panid 
//  370         && memcmp(pnb->neighborExtAddr,"\x00\x00\x00\x00\x00\x00\x00\x00", 8)!=0 
//  371         && pnb->age <= NWK_ROUTE_AGE_LIMIT) {
        MOV     DPL,?V0
        MOV     DPH,?V1
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     DPTR,#panid
        MOVX    A,@DPTR
        XRL     A,R0
        JNZ     ??read_nb_2
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,R1
??read_nb_2:
        JZ      $+5
        LJMP    ??read_nb_3 & 0xFFFF
        ; Setup parameters for call to function memcmp
        MOV     ?V4,#0x8
        MOV     ?V5,#0x0
        MOV     R0,#?V4
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 20)
        MOV     R4,#`?<Constant "\\000\\000\\000\\000\\000\\000\\000\\000">` & 0xff
        MOV     R5,#(`?<Constant "\\000\\000\\000\\000\\000\\000\\000\\000">` >> 8) & 0xff
        MOV     A,?V0
        ADD     A,#0x2
        MOV     R2,A
        CLR     A
        ADDC    A,?V1
        MOV     R3,A
        LCALL   ??memcmp?relay       ; Banked call to: memcmp
        MOV     A,#0x2
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 18)
        MOV     ?V4,R2
        MOV     ?V5,R3
        MOV     A,?V4
        ORL     A,?V5
        JZ      ??read_nb_3
        MOV     A,?V0
        ADD     A,#0xc
        MOV     DPL,A
        CLR     A
        ADDC    A,?V1
        MOV     DPH,A
        MOVX    A,@DPTR
        CLR     C
        SUBB    A,#0x4
        JNC     ??read_nb_3
//  372           sprintf(p, "%02X%02X", pnb->neighborExtAddr[1], pnb->neighborExtAddr[0]);
        ; Setup parameters for call to function sprintf
        MOV     DPL,?V0
        MOV     DPH,?V1
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V4,A
        MOV     ?V5,#0x0
        MOV     R0,#?V4
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 20)
        MOV     DPL,?V0
        MOV     DPH,?V1
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V4,A
        MOV     ?V5,#0x0
        MOV     R0,#?V4
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 22)
        MOV     R4,#`?<Constant "%02X%02X">` & 0xff
        MOV     R5,#(`?<Constant "%02X%02X">` >> 8) & 0xff
        MOV     R2,?V2
        MOV     R3,?V3
        LCALL   ??sprintf?relay      ; Banked call to: sprintf
        MOV     A,#0x4
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 18)
//  373           p = p + strlen(p);         
        ; Setup parameters for call to function strlen
        MOV     R2,?V2
        MOV     R3,?V3
        LCALL   ??strlen?relay       ; Banked call to: strlen
        MOV     ?V4,R2
        MOV     ?V5,R3
        MOV     A,?V2
        ADD     A,?V4
        MOV     ?V2,A
        MOV     A,?V3
        ADDC    A,?V5
        MOV     ?V3,A
//  374     }
//  375   }
??read_nb_3:
        INC     R6
        MOV     A,R6
        JNZ     ??read_nb_4
        INC     R7
??read_nb_4:
        LJMP    ??read_nb_0 & 0xFFFF
//  376   return buf;
??read_nb_1:
        MOV     R2,?V6
        MOV     R3,?V7
        MOV     A,#0x2
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 16)
        MOV     R7,#0x8
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock12
//  377 }
//  378 /*********************************************************************************************
//  379 * 名称：GetCurrentLogicalType()
//  380 * 功能：获取当前节点类型
//  381 * 参数：
//  382 * 返回：
//  383 * 修改：
//  384 * 注释：
//  385 *********************************************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  386 uint8 GetCurrentLogicalType(void)
GetCurrentLogicalType:
          CFI Block cfiBlock13 Using cfiCommon0
          CFI Function GetCurrentLogicalType
        CODE
//  387 {
        PUSH    DPL
          CFI DPL0 Frame(CFA_SP, 4)
          CFI CFA_SP SP+-4
        PUSH    DPH
          CFI DPH0 Frame(CFA_SP, 5)
          CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
//  388   return logicalType;
        MOV     DPTR,#logicalType
        MOVX    A,@DPTR
        MOV     R1,A
        POP     DPH
          CFI DPH0 SameValue
          CFI CFA_SP SP+-4
        POP     DPL
          CFI DPL0 SameValue
          CFI CFA_SP SP+-3
        LJMP    ?BRET
          CFI EndBlock cfiBlock13
//  389 }
//  390 /*********************************************************************************************
//  391 * 名称：GetLinkStatus()
//  392 * 功能：获取节点入网状态
//  393 * 参数：
//  394 * 返回：
//  395 * 修改：
//  396 * 注释：
//  397 *********************************************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  398 uint8 GetLinkStatus(void)
GetLinkStatus:
          CFI Block cfiBlock14 Using cfiCommon0
          CFI Function GetLinkStatus
        CODE
//  399 {
        PUSH    DPL
          CFI DPL0 Frame(CFA_SP, 4)
          CFI CFA_SP SP+-4
        PUSH    DPH
          CFI DPH0 Frame(CFA_SP, 5)
          CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
//  400   return mLinkStatus;
        MOV     DPTR,#mLinkStatus
        MOVX    A,@DPTR
        MOV     R1,A
        POP     DPH
          CFI DPH0 SameValue
          CFI CFA_SP SP+-4
        POP     DPL
          CFI DPL0 SameValue
          CFI CFA_SP SP+-3
        LJMP    ?BRET
          CFI EndBlock cfiBlock14
//  401 }
//  402 /*********************************************************************************************
//  403 * 名称：GetPanId()
//  404 * 功能：获取节点PANID
//  405 * 参数：
//  406 * 返回：
//  407 * 修改：
//  408 * 注释：
//  409 *********************************************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  410 uint16 GetPanId(void)
GetPanId:
          CFI Block cfiBlock15 Using cfiCommon0
          CFI Function GetPanId
        CODE
//  411 {
        FUNCALL GetPanId, osal_nv_read
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        MOV     A,#-0xa
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 10)
        ; Saved register size: 10
        ; Auto size: 2
        MOV     A,#-0x2
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 12)
//  412    uint16 tmp16;
//  413    osal_nv_read( ZCD_NV_PANID, 0, sizeof( tmp16 ), &tmp16 );
        ; Setup parameters for call to function osal_nv_read
        MOV     R0,?XSP + 0
        MOV     R1,?XSP + 1
        MOV     ?V0,R0
        MOV     ?V1,R1
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 14)
        MOV     ?V0,#0x2
        MOV     ?V1,#0x0
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 16)
        MOV     R4,#0x0
        MOV     R5,#0x0
        MOV     R2,#-0x7d
        MOV     R3,#0x0
        LCALL   ??osal_nv_read?relay ; Banked call to: osal_nv_read
        MOV     A,#0x4
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 12)
        MOV     A,R1
//  414    return tmp16;
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        MOV     A,#0x2
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 10)
        MOV     R7,#0x2
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock15
//  415 }
//  416 /*********************************************************************************************
//  417 * 名称：SetPanId()
//  418 * 功能：设置节点PANID
//  419 * 参数：
//  420 * 返回：
//  421 * 修改：
//  422 * 注释：
//  423 *********************************************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  424 void SetPanId(uint16 id)
SetPanId:
          CFI Block cfiBlock16 Using cfiCommon0
          CFI Function SetPanId
        CODE
//  425 {
        FUNCALL SetPanId, GetPanId
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 15, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 15, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SetPanId, osal_nv_item_len
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 15, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 15, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SetPanId, osal_nv_write
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 19, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 19, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SetPanId, zb_WriteConfiguration
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 15, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 15, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        REQUIRE ?V2
        REQUIRE ?V3
        MOV     A,#-0xc
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 12)
        ; Saved register size: 12
        ; Auto size: 3
        MOV     A,#-0x3
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 15)
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOV     A,R2
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R3
        MOVX    @DPTR,A
//  426     uint8 startOptions = ZCD_STARTOPT_DEFAULT_NETWORK_STATE;
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     A,#0x2
        MOVX    @DPTR,A
//  427     uint16 tmp16;
//  428     tmp16 = GetPanId();
        ; Setup parameters for call to function GetPanId
        LCALL   ??GetPanId?relay     ; Banked call to: GetPanId
        MOV     ?V0,R2
        MOV     ?V1,R3
        MOV     R6,?V0
        MOV     R7,?V1
//  429     if (tmp16 != id) {
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        XRL     A,R6
        JNZ     ??SetPanId_0
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,R7
??SetPanId_0:
        JZ      ??SetPanId_1
//  430         osal_nv_write(ZCD_NV_PANID, 0, osal_nv_item_len( ZCD_NV_PANID ), &id);
        ; Setup parameters for call to function osal_nv_item_len
        MOV     R2,#-0x7d
        MOV     R3,#0x0
        LCALL   ??osal_nv_item_len?relay; Banked call to: osal_nv_item_len
        MOV     ?V2,R2
        MOV     ?V3,R3
        MOV     ?V0,?V2
        MOV     ?V1,?V3
        ; Setup parameters for call to function osal_nv_write
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP100_8
        MOV     ?V2,R0
        MOV     ?V3,R1
        MOV     R0,#?V2
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 17)
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 19)
        MOV     R4,#0x0
        MOV     R5,#0x0
        MOV     R2,#-0x7d
        MOV     R3,#0x0
        LCALL   ??osal_nv_write?relay; Banked call to: osal_nv_write
        MOV     A,#0x4
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 15)
        MOV     A,R1
//  431         zb_WriteConfiguration( ZCD_NV_STARTUP_OPTION, sizeof(uint8), &startOptions ); //标记网络状态发生改变
        ; Setup parameters for call to function zb_WriteConfiguration
        MOV     R4,?XSP + 0
        MOV     R5,?XSP + 1
        MOV     R2,#0x1
        MOV     R1,#0x3
        LCALL   ??zb_WriteConfiguration?relay; Banked call to: zb_WriteConfiguration
        MOV     A,R1
//  432     }
//  433 }
??SetPanId_1:
        MOV     A,#0x3
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 12)
        MOV     R7,#0x4
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock16
//  434 /*********************************************************************************************
//  435 * 名称：GetChannel()
//  436 * 功能：获取节点信道
//  437 * 参数：
//  438 * 返回：
//  439 * 修改：
//  440 * 注释：
//  441 *********************************************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  442 uint8 GetChannel(void)
GetChannel:
          CFI Block cfiBlock17 Using cfiCommon0
          CFI Function GetChannel
        CODE
//  443 {
        FUNCALL GetChannel, osal_nv_read
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 20, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 20, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        REQUIRE ?V2
        REQUIRE ?V3
        MOV     A,#-0xc
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 12)
        ; Saved register size: 12
        ; Auto size: 4
        MOV     A,#-0x4
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 16)
//  444   uint32 tmp32;
//  445   uint8 i;
//  446 		
//  447   osal_nv_read( ZCD_NV_CHANLIST, 0, sizeof( tmp32 ), &tmp32 );
        ; Setup parameters for call to function osal_nv_read
        MOV     R0,?XSP + 0
        MOV     R1,?XSP + 1
        MOV     ?V0,R0
        MOV     ?V1,R1
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 18)
        MOV     ?V0,#0x4
        MOV     ?V1,#0x0
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 20)
        MOV     R4,#0x0
        MOV     R5,#0x0
        MOV     R2,#-0x7c
        MOV     R3,#0x0
        LCALL   ??osal_nv_read?relay ; Banked call to: osal_nv_read
        MOV     A,#0x4
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 16)
        MOV     A,R1
//  448      
//  449   for (i=0; i<16; i++) {
        MOV     R6,#0x0
??GetChannel_0:
        MOV     A,R6
        CLR     C
        SUBB    A,#0x10
        JNC     ??GetChannel_1
//  450     if (tmp32 == chs[i]) break;
        MOV     A,R6
        MOV     R0,A
        MOV     R1,#0x0
        MOV     A,R0
        MOV     B,#0x4
        MUL     AB
        XCH     A,R0
        MOV     R2,B
        MOV     B,#0x0
        MUL     AB
        ADD     A,R2
        MOV     R2,A
        MOV     B,#0x4
        MOV     A,R1
        MUL     AB
        ADD     A,R2
        MOV     R1,A
        MOV     A,#chs & 0xff
        ADD     A,R0
        MOV     DPL,A
        MOV     A,#(chs >> 8) & 0xff
        ADDC    A,R1
        MOV     DPH,A
        MOV     R0,#?V0
        LCALL   ?L_MOV_X
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     R0,#?V0
        LCALL   ?L_EQ_X
        JZ      ??GetChannel_1
//  451   }
        INC     R6
        SJMP    ??GetChannel_0
//  452   i += 11;
??GetChannel_1:
        MOV     A,#0xb
        ADD     A,R6
        MOV     R6,A
//  453   return i;
        MOV     A,R6
        MOV     R1,A
        MOV     A,#0x4
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 12)
        MOV     R7,#0x4
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock17
//  454 }
//  455 /*********************************************************************************************
//  456 * 名称：SetChannel()
//  457 * 功能：设置节点信道
//  458 * 参数：
//  459 * 返回：
//  460 * 修改：
//  461 * 注释：
//  462 *********************************************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  463 void SetChannel(uint8 val)
SetChannel:
          CFI Block cfiBlock18 Using cfiCommon0
          CFI Function SetChannel
        CODE
//  464 {
        FUNCALL SetChannel, osal_nv_read
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 25, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 25, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SetChannel, osal_nv_item_len
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 21, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 21, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SetChannel, osal_nv_write
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 25, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 25, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SetChannel, zb_WriteConfiguration
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 21, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 21, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        REQUIRE ?V2
        REQUIRE ?V3
        REQUIRE ?V4
        REQUIRE ?V5
        REQUIRE ?V6
        REQUIRE ?V7
        MOV     A,#-0x10
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 16)
        ; Saved register size: 16
        ; Auto size: 5
        MOV     A,#-0x5
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 21)
        MOV     A,R1
        MOV     R6,A
//  465   uint8 startOptions = ZCD_STARTOPT_DEFAULT_NETWORK_STATE;
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     A,#0x2
        MOVX    @DPTR,A
//  466   uint32 tmp32, t32;
//  467   tmp32 = val - 11;
        MOV     A,R6
        MOV     R0,A
        MOV     R1,#0x0
        MOV     A,R0
        ADD     A,#-0xb
        MOV     R0,A
        MOV     A,R1
        ADDC    A,#-0x1
        MOV     R1,A
        MOV     A,R1
        RLC     A
        SUBB    A,0xE0 /* A   */
        MOV     R2,A
        MOV     R3,A
        MOV     ?V0,R0
        MOV     ?V1,R1
        MOV     ?V2,R2
        MOV     ?V3,R3
//  468   osal_nv_read( ZCD_NV_CHANLIST, 0, sizeof( tmp32 ), &t32 );
        ; Setup parameters for call to function osal_nv_read
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP100_8
        MOV     ?V4,R0
        MOV     ?V5,R1
        MOV     R0,#?V4
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 23)
        MOV     ?V4,#0x4
        MOV     ?V5,#0x0
        MOV     R0,#?V4
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 25)
        MOV     R4,#0x0
        MOV     R5,#0x0
        MOV     R2,#-0x7c
        MOV     R3,#0x0
        LCALL   ??osal_nv_read?relay ; Banked call to: osal_nv_read
        MOV     A,#0x4
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 21)
        MOV     A,R1
//  469   if (tmp32 < 16) {
        MOV     DPTR,#__Constant_10
        MOV     R0,#?V0
        LCALL   ?UL_GE_X
        JNC     $+5
        LJMP    ??SetChannel_0 & 0xFFFF
//  470     if (t32 != chs[tmp32]) {
        MOV     R0,?V0
        MOV     R1,?V1
        MOV     A,R0
        MOV     B,#0x4
        MUL     AB
        XCH     A,R0
        MOV     R2,B
        MOV     B,#0x0
        MUL     AB
        ADD     A,R2
        MOV     R2,A
        MOV     B,#0x4
        MOV     A,R1
        MUL     AB
        ADD     A,R2
        MOV     R1,A
        MOV     A,#chs & 0xff
        ADD     A,R0
        MOV     DPL,A
        MOV     A,#(chs >> 8) & 0xff
        ADDC    A,R1
        MOV     DPH,A
        MOV     R0,#?V4
        LCALL   ?L_MOV_X
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOV     R0,#?V4
        LCALL   ?L_EQ_X
        JZ      ??SetChannel_0
//  471       osal_nv_write(ZCD_NV_CHANLIST, 0, osal_nv_item_len( ZCD_NV_CHANLIST ), &chs[tmp32]);
        ; Setup parameters for call to function osal_nv_item_len
        MOV     R2,#-0x7c
        MOV     R3,#0x0
        LCALL   ??osal_nv_item_len?relay; Banked call to: osal_nv_item_len
        MOV     ?V4,R2
        MOV     ?V5,R3
        MOV     R2,?V4
        MOV     R3,?V5
        ; Setup parameters for call to function osal_nv_write
        MOV     R0,?V0
        MOV     R1,?V1
        MOV     A,R0
        MOV     B,#0x4
        MUL     AB
        XCH     A,R0
        MOV     R4,B
        MOV     B,#0x0
        MUL     AB
        ADD     A,R4
        MOV     R4,A
        MOV     B,#0x4
        MOV     A,R1
        MUL     AB
        ADD     A,R4
        MOV     R1,A
        MOV     A,#chs & 0xff
        ADD     A,R0
        MOV     ?V4,A
        MOV     A,#(chs >> 8) & 0xff
        ADDC    A,R1
        MOV     ?V5,A
        MOV     R0,#?V4
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 23)
        MOV     ?V4,R2
        MOV     ?V5,R3
        MOV     R0,#?V4
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 25)
        MOV     R4,#0x0
        MOV     R5,#0x0
        MOV     R2,#-0x7c
        MOV     R3,#0x0
        LCALL   ??osal_nv_write?relay; Banked call to: osal_nv_write
        MOV     A,#0x4
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 21)
        MOV     A,R1
//  472       zb_WriteConfiguration( ZCD_NV_STARTUP_OPTION, sizeof(uint8), &startOptions ); //标记网络状态发生改变
        ; Setup parameters for call to function zb_WriteConfiguration
        MOV     R4,?XSP + 0
        MOV     R5,?XSP + 1
        MOV     R2,#0x1
        MOV     R1,#0x3
        LCALL   ??zb_WriteConfiguration?relay; Banked call to: zb_WriteConfiguration
        MOV     A,R1
//  473     }
//  474   }
//  475 }
??SetChannel_0:
        MOV     A,#0x5
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 16)
        MOV     R7,#0x8
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock18
//  476 /*********************************************************************************************
//  477 * 名称：GetLogicalType()
//  478 * 功能：获取节点类型
//  479 * 参数：
//  480 * 返回：
//  481 * 修改：
//  482 * 注释：
//  483 *********************************************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  484 uint8 GetLogicalType(void)
GetLogicalType:
          CFI Block cfiBlock19 Using cfiCommon0
          CFI Function GetLogicalType
        CODE
//  485 {
        FUNCALL GetLogicalType, zb_ReadConfiguration
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 1, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 1, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        PUSH    DPL
          CFI DPL0 Frame(CFA_SP, 4)
          CFI CFA_SP SP+-4
        PUSH    DPH
          CFI DPH0 Frame(CFA_SP, 5)
          CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 1
        MOV     A,#-0x1
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 1)
//  486   uint8 st;
//  487   zb_ReadConfiguration( ZCD_NV_LOGICAL_TYPE, sizeof(uint8), &st );
        ; Setup parameters for call to function zb_ReadConfiguration
        MOV     R4,?XSP + 0
        MOV     R5,?XSP + 1
        MOV     R2,#0x1
        MOV     R1,#-0x79
        LCALL   ??zb_ReadConfiguration?relay; Banked call to: zb_ReadConfiguration
        MOV     A,R1
//  488   return st;
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,#0x1
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 XSP16+0
        POP     DPH
          CFI DPH0 SameValue
          CFI CFA_SP SP+-4
        POP     DPL
          CFI DPL0 SameValue
          CFI CFA_SP SP+-3
        LJMP    ?BRET
          CFI EndBlock cfiBlock19
//  489 }
//  490 /*********************************************************************************************
//  491 * 名称：SetLogicalType()
//  492 * 功能：设置节点类型
//  493 * 参数：
//  494 * 返回：
//  495 * 修改：
//  496 * 注释：
//  497 *********************************************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  498 void SetLogicalType(uint8 t)
SetLogicalType:
          CFI Block cfiBlock20 Using cfiCommon0
          CFI Function SetLogicalType
        CODE
//  499 {
        FUNCALL SetLogicalType, GetLogicalType
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 11, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 11, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SetLogicalType, zb_WriteConfiguration
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 11, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 11, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SetLogicalType, zb_WriteConfiguration
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 11, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 11, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x9
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 2
        MOV     A,#-0x2
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 11)
        MOV     A,R1
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
//  500   uint8 st;
//  501   uint8 startOptions = ZCD_STARTOPT_DEFAULT_NETWORK_STATE;
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0x2
        MOVX    @DPTR,A
//  502   if (logicalType == ZG_DEVICETYPE_ROUTER || logicalType == ZG_DEVICETYPE_ENDDEVICE) {
        MOV     DPTR,#logicalType
        MOVX    A,@DPTR
        XRL     A,#0x1
        JZ      ??SetLogicalType_0
        MOV     DPTR,#logicalType
        MOVX    A,@DPTR
        XRL     A,#0x2
        JNZ     ??SetLogicalType_1
//  503     st = GetLogicalType();
??SetLogicalType_0:
        ; Setup parameters for call to function GetLogicalType
        LCALL   ??GetLogicalType?relay; Banked call to: GetLogicalType
        MOV     A,R1
        MOV     R6,A
//  504     if (t != st && (t==ZG_DEVICETYPE_ROUTER || t == ZG_DEVICETYPE_ENDDEVICE)) {
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        XRL     A,R6
        JZ      ??SetLogicalType_1
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        XRL     A,#0x1
        JZ      ??SetLogicalType_2
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        XRL     A,#0x2
        JNZ     ??SetLogicalType_1
//  505       zb_WriteConfiguration(ZCD_NV_LOGICAL_TYPE, sizeof(uint8), &t);
??SetLogicalType_2:
        ; Setup parameters for call to function zb_WriteConfiguration
        MOV     R4,?XSP + 0
        MOV     R5,?XSP + 1
        MOV     R2,#0x1
        MOV     R1,#-0x79
        LCALL   ??zb_WriteConfiguration?relay; Banked call to: zb_WriteConfiguration
        MOV     A,R1
//  506       zb_WriteConfiguration( ZCD_NV_STARTUP_OPTION, sizeof(uint8), &startOptions ); //标记网络状态发生改变
        ; Setup parameters for call to function zb_WriteConfiguration
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP102_8
        MOV     R2,#0x1
        MOV     R1,#0x3
        LCALL   ??zb_WriteConfiguration?relay; Banked call to: zb_WriteConfiguration
        MOV     A,R1
//  507     } 
//  508   }
//  509 }
??SetLogicalType_1:
        MOV     A,#0x2
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 9)
        MOV     R7,#0x1
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock20
//  510 /*********************************************************************************************
//  511 * 名称：starReportTPN()
//  512 * 功能：设置节点网络参数循环上报时间参数
//  513 * 参数：
//  514 * 返回：
//  515 * 修改：
//  516 * 注释：
//  517 *********************************************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  518 void starReportTPN(uint16 t, uint16 n)
starReportTPN:
          CFI Block cfiBlock21 Using cfiCommon0
          CFI Function starReportTPN
        CODE
//  519 {
        FUNCALL starReportTPN, osal_rand
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL starReportTPN, osal_rand
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL starReportTPN, osal_start_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        REQUIRE ?V2
        REQUIRE ?V3
        REQUIRE ?V4
        REQUIRE ?V5
        REQUIRE ?V6
        REQUIRE ?V7
        MOV     A,#-0x10
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 16)
        ; Saved register size: 16
        ; Auto size: 0
        MOV     ?V2,R2
        MOV     ?V3,R3
        MOV     ?V0,R4
        MOV     ?V1,R5
//  520   _tm_report_delay = t;
        MOV     DPTR,#_tm_report_delay
        MOV     A,?V2
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,?V3
        MOVX    @DPTR,A
//  521   _tm_report_cnt = n;
        MOV     DPTR,#_tm_report_cnt
        MOV     A,?V0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,?V1
        MOVX    @DPTR,A
//  522   if (_tm_report_cnt != 0) {
        MOV     DPTR,#_tm_report_cnt
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R0
        ORL     A,R1
        JZ      ??starReportTPN_0
//  523     osal_start_timerEx( sapi_TaskID, __REPORT_EVT, (osal_rand()%_tm_report_delay) * (osal_rand()%1000));
        ; Setup parameters for call to function osal_rand
        LCALL   ??osal_rand?relay    ; Banked call to: osal_rand
        MOV     ?V4,R2
        MOV     ?V5,R3
        MOV     R6,?V4
        MOV     R7,?V5
        ; Setup parameters for call to function osal_rand
        LCALL   ??osal_rand?relay    ; Banked call to: osal_rand
        MOV     ?V4,R2
        MOV     ?V5,R3
        MOV     ?V6,?V4
        MOV     ?V7,?V5
        ; Setup parameters for call to function osal_start_timerEx
        MOV     A,R6
        MOV     R0,A
        MOV     A,R7
        MOV     R1,A
        MOV     DPTR,#_tm_report_delay
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        LCALL   ?US_DIV_MOD
        MOV     A,R2
        MOV     R4,A
        MOV     A,R3
        MOV     R5,A
        MOV     R0,?V6
        MOV     R1,?V7
        MOV     R2,#-0x18
        MOV     R3,#0x3
        LCALL   ?US_DIV_MOD
        MOV     ?V4,R2
        MOV     ?V5,R3
        MOV     A,R4
        MOV     B,?V4
        MUL     AB
        XCH     A,R4
        MOV     R0,B
        MOV     B,?V5
        MUL     AB
        ADD     A,R0
        MOV     R0,A
        MOV     B,?V4
        MOV     A,R5
        MUL     AB
        ADD     A,R0
        MOV     R5,A
        MOV     R2,#0x20
        MOV     R3,#0x0
        MOV     DPTR,#sapi_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??osal_start_timerEx?relay; Banked call to: osal_start_timerEx
        MOV     A,R1
//  524   }
//  525 }
??starReportTPN_0:
        MOV     R7,#0x8
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock21

        RSEG XDATA_ID:CODE:NOROOT(0)
`?<Initializer for chs>`:
        DATA32
        DD 2048
        DD 4096
        DD 8192
        DD 16384
        DD 32768
        DD 65536
        DD 131072
        DD 262144
        DD 524288
        DD 1048576
        DD 2097152
        DD 4194304
        DD 8388608
        DD 16777216
        DD 33554432
        DD 67108864

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??myReset?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    myReset

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??_get_at_event?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    _get_at_event

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??zb_HandleOsalEvent?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    zb_HandleOsalEvent

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??zb_HandleKeys?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    zb_HandleKeys

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??zb_StartConfirm?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    zb_StartConfirm

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??zb_SendDataConfirm?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    zb_SendDataConfirm

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??zb_BindConfirm?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    zb_BindConfirm

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??zb_AllowBindConfirm?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    zb_AllowBindConfirm

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??zb_FindDeviceConfirm?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    zb_FindDeviceConfirm

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??zb_HanderMsg?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    zb_HanderMsg

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??zb_ReceiveDataIndication?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    zb_ReceiveDataIndication

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??my_report_proc?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    my_report_proc

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??read_nb?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    read_nb

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??GetCurrentLogicalType?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    GetCurrentLogicalType

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??GetLinkStatus?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    GetLinkStatus

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??GetPanId?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    GetPanId

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??SetPanId?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    SetPanId

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??GetChannel?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    GetChannel

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??SetChannel?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    SetChannel

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??GetLogicalType?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    GetLogicalType

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??SetLogicalType?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    SetLogicalType

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??starReportTPN?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    starReportTPN

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "%02X%02X">`:
        DB "%02X%02X"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "PN">`:
        DB "PN"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "AT+TYPE?\\r\\n">`:
        DB "AT+TYPE?\015\012"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "\\000\\000\\000\\000\\000\\000\\000\\000">`:
        DB 0, 0, 0, 0, 0, 0, 0, 0
        DB 0

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA32
__Constant_10:
        DD 16

        END
// 
// 2 027 bytes in segment BANKED_CODE
//   132 bytes in segment BANK_RELAYS
//     2 bytes in segment SFR_AN
//    64 bytes in segment XDATA_I
//    64 bytes in segment XDATA_ID
//    56 bytes in segment XDATA_ROM_C
//   108 bytes in segment XDATA_Z
// 
// 2 223 bytes of CODE  memory
//    52 bytes of CONST memory (+ 4 bytes shared)
//     0 bytes of DATA  memory (+ 2 bytes shared)
//   172 bytes of XDATA memory
//
//Errors: none
//Warnings: none
